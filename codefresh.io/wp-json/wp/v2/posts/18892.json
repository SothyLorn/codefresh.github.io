{"id":18892,"date":"2021-03-25T06:50:11","date_gmt":"2021-03-25T14:50:11","guid":{"rendered":"https:\/\/codefresh.io\/?p=18892"},"modified":"2022-03-01T17:40:59","modified_gmt":"2022-03-01T17:40:59","slug":"create-demand-kubernetes-clusters-ci-cd-kind-codefresh","status":"publish","type":"post","link":"https:\/\/codefresh.io\/kubernetes-tutorial\/create-demand-kubernetes-clusters-ci-cd-kind-codefresh\/","title":{"rendered":"Create On-Demand Kubernetes Clusters for CI\/CD With Kind and Codefresh"},"content":{"rendered":"<p>Wouldn\u2019t it be handy to quickly spin up a Kubernetes cluster for CI testing, on-demand?<\/p>\n<figure id=\"attachment_18893\" aria-describedby=\"caption-attachment-18893\" style=\"width: 1999px\" class=\"wp-caption aligncenter\"><a href=\"https:\/\/codefresh.io\/wp-content\/uploads\/2021\/03\/image3-2.png\"><img class=\"size-full wp-image-18893\" src=\"https:\/\/codefresh.io\/wp-content\/uploads\/2021\/03\/image3-2.png\" alt=\"kind-custom-step\" width=\"1999\" height=\"521\" srcset=\"https:\/\/codefresh.io\/wp-content\/uploads\/2021\/03\/image3-2.png 1999w, https:\/\/codefresh.io\/wp-content\/uploads\/2021\/03\/image3-2-300x78.png 300w, https:\/\/codefresh.io\/wp-content\/uploads\/2021\/03\/image3-2-1024x267.png 1024w, https:\/\/codefresh.io\/wp-content\/uploads\/2021\/03\/image3-2-768x200.png 768w, https:\/\/codefresh.io\/wp-content\/uploads\/2021\/03\/image3-2-1536x400.png 1536w, https:\/\/codefresh.io\/wp-content\/uploads\/2021\/03\/image3-2-20x5.png 20w\" sizes=\"(max-width: 1999px) 100vw, 1999px\" \/><\/a><figcaption id=\"caption-attachment-18893\" class=\"wp-caption-text\">Kind custom step in the Codefresh pipeline<\/figcaption><\/figure>\n<p>Interested? If so, read on!<\/p>\n<h2>Background<\/h2>\n<p>Here at Codefresh, many of our customers develop Kubernetes-native applications. A common CI task is to create a Kubernetes cluster to test out deployment processes and integrations. Often, such tests can be greatly simplified if this cluster is ephemeral &#8211; that is, it is created on-demand for each build of a test pipeline. This ensures that the tests always run on a fresh cluster, where they start with a clean slate.<\/p>\n<p>Creating such a cluster can be a very time-consuming affair. For example, creating a simple EKS cluster in AWS usually takes a minimum of 15 minutes. Additionally, the test pipeline must also be configured to remove this cluster after the tests have concluded, as well as know how to handle any errors that may occur during creation\/removal.<\/p>\n<p>One way to combat this time-consuming and complex creation\/removal process is to use technology like <a href=\"https:\/\/kind.sigs.k8s.io\/\">kind<\/a> (Kubernetes in Docker) which creates a super-simple cluster within Docker containers. A kind cluster can be created in ~2 minutes and deleted almost instantly &#8211; perfect for an ephemeral cluster whose lifespan is a single test pipeline build.<\/p>\n<p>When using kind to create an ephemeral cluster for CI testing, we need a place where we can create its parent Docker container that will persist for the duration of the CI pipeline. For legacy CI systems that are built to run on VMs, this Docker container can be started in the VM&#8217;s host OS (security permitting). For more modern, Kubernetes-native platforms like Codefresh, however, it is preferable if this Docker container just runs as a native Kubernetes pod. While kind doesn&#8217;t come with a Kubernetes pod configuration out of the box, Jie Yu and Steven Chung have gone ahead and created one that we can use. You can check it out in their <a href=\"https:\/\/d2iq.com\/blog\/running-kind-inside-a-kubernetes-cluster-for-continuous-integration\">blog article<\/a> and <a href=\"https:\/\/github.com\/jieyu\/docker-images\/tree\/master\/dind\">GitHub repository<\/a>.<\/p>\n<p>Specifically, we will use their pod resource YAML and related Docker images to create a kind cluster nested within a pod on an existing Kubernetes cluster. First, we\u2019ll see how a Codefresh pipeline can quickly create this kind of pod, connect to it to run some deployment tests, and then delete it. After that, we\u2019ll see how packaging these steps into a Codefresh <i>typed step<\/i> makes it easy to share and re-use them in your other pipelines.<\/p>\n<h2>Prerequisites<\/h2>\n<ul>\n<li aria-level=\"1\">Create a <a href=\"https:\/\/codefresh.io\/docs\/docs\/getting-started\/create-a-codefresh-account\/\">Codefresh account<\/a> if you don\u2019t already have one<\/li>\n<li aria-level=\"1\">Install the <a href=\"https:\/\/codefresh.io\/docs\/docs\/administration\/codefresh-runner\/\">Codefresh Runner<\/a> in your Kubernetes cluster<\/li>\n<li aria-level=\"1\">Install the <a href=\"https:\/\/codefresh-io.github.io\/cli\/installation\/\">Codefresh CLI<\/a> on your local workstation<\/li>\n<li aria-level=\"1\">Clone the <a href=\"https:\/\/github.com\/TedSpinks\/kind-codefresh-demo\">GitHub repo<\/a> with the example code for this article<\/li>\n<\/ul>\n<h2>Create Your Pipeline<\/h2>\n<p>First off, when we create our pipeline we need to configure its <a href=\"https:\/\/codefresh.io\/docs\/docs\/configure-ci-cd-pipeline\/pipelines\/#runtime\">Runtime<\/a> so that it executes on a cluster with network access to the cluster where you want to deploy the kind pod (i.e., its parent cluster). The simplest way to ensure this access is to install the Codefresh Runner on the parent cluster so that you can also choose it as your pipeline\u2019s Runtime cluster. We\u2019ll be accessing kind\u2019s Kubernetes API service via the parent cluster\u2019s node IP addresses and a NodePort.<\/p>\n<h2>Pipeline Steps<\/h2>\n<p>There are five main steps that our pipeline will perform:<\/p>\n<ol>\n<li aria-level=\"1\"><b>Get the kind pod resource YAML<\/b> from a Git repo.<\/li>\n<li aria-level=\"1\"><b>Deploy the kind pod resource YAML<\/b> to the parent Kubernetes cluster in which it will live.<\/li>\n<li aria-level=\"1\"><b>Update the pipeline\u2019s kubeconfig<\/b> to include the kind cluster.<\/li>\n<li aria-level=\"1\"><b>Run some deployment tests <\/b>on the kind cluster.<\/li>\n<li aria-level=\"1\"><b>Delete the kind pod<\/b> from its parent cluster. We made this step a \u201chook\u201d so that it always runs after the end of the pipeline, even if the pipeline should fail. Its output appears on the build screen under \u201cInitializing Process.\u201d<\/li>\n<\/ol>\n<p>To that end, I\u2019ve placed a copy of the kind pod YAML from Jie Yu and Steven Chung\u2019s blog article, as well as the Codefresh pipeline YAML for these steps, into one GitHub repo. You can check them out here: <a href=\"https:\/\/github.com\/TedSpinks\/kind-codefresh-demo\">https:\/\/github.com\/TedSpinks\/kind-codefresh-demo<\/a>.<\/p>\n<p>First, create a new pipeline in your Codefresh account. Copy and paste the steps from <a href=\"https:\/\/github.com\/TedSpinks\/kind-codefresh-demo\/blob\/main\/pipeline-examples\/kind-with-freestyle-steps.yaml\">pipeline-examples\/kind-with-freestyle-steps.yaml<\/a> into your pipeline. You\u2019ll notice that the deploy_pod step deploys <a href=\"https:\/\/github.com\/TedSpinks\/kind-codefresh-demo\/blob\/main\/kind-pod.yaml\">kind-pod.yaml<\/a> to create the kind pod in our parent Kubernetes cluster.<\/p>\n<p>Next, be sure to define two variables as pipeline inputs (right-hand side of the IDE):<\/p>\n<ul>\n<li aria-level=\"1\">KIND_POD_CONTEXT &#8211; Name of the Kubernetes Integration in your Codefresh account where the kind pod should be deployed<\/li>\n<li aria-level=\"1\">KIND_POD_NS &#8211; The namespace where the kind pod should be deployed<\/li>\n<\/ul>\n<figure id=\"attachment_18894\" aria-describedby=\"caption-attachment-18894\" style=\"width: 1122px\" class=\"wp-caption aligncenter\"><a href=\"https:\/\/codefresh.io\/wp-content\/uploads\/2021\/03\/image4-3.png\"><img class=\"size-full wp-image-18894\" src=\"https:\/\/codefresh.io\/wp-content\/uploads\/2021\/03\/image4-3.png\" alt=\"codefesh-variables\" width=\"1122\" height=\"762\" srcset=\"https:\/\/codefresh.io\/wp-content\/uploads\/2021\/03\/image4-3.png 1122w, https:\/\/codefresh.io\/wp-content\/uploads\/2021\/03\/image4-3-300x204.png 300w, https:\/\/codefresh.io\/wp-content\/uploads\/2021\/03\/image4-3-1024x695.png 1024w, https:\/\/codefresh.io\/wp-content\/uploads\/2021\/03\/image4-3-768x522.png 768w, https:\/\/codefresh.io\/wp-content\/uploads\/2021\/03\/image4-3-20x14.png 20w\" sizes=\"(max-width: 1122px) 100vw, 1122px\" \/><\/a><figcaption id=\"caption-attachment-18894\" class=\"wp-caption-text\">Codefresh Pipeline Variables<\/figcaption><\/figure>\n<p>If you were to go ahead and run this pipeline in your Codefresh account, it would look like this&#8230;<\/p>\n<figure id=\"attachment_18895\" aria-describedby=\"caption-attachment-18895\" style=\"width: 1999px\" class=\"wp-caption aligncenter\"><a href=\"https:\/\/codefresh.io\/wp-content\/uploads\/2021\/03\/image1-4.png\"><img class=\"size-full wp-image-18895\" src=\"https:\/\/codefresh.io\/wp-content\/uploads\/2021\/03\/image1-4.png\" alt=\"pipelines-without-custome-step\" width=\"1999\" height=\"1082\" srcset=\"https:\/\/codefresh.io\/wp-content\/uploads\/2021\/03\/image1-4.png 1999w, https:\/\/codefresh.io\/wp-content\/uploads\/2021\/03\/image1-4-300x162.png 300w, https:\/\/codefresh.io\/wp-content\/uploads\/2021\/03\/image1-4-1024x554.png 1024w, https:\/\/codefresh.io\/wp-content\/uploads\/2021\/03\/image1-4-768x416.png 768w, https:\/\/codefresh.io\/wp-content\/uploads\/2021\/03\/image1-4-1536x831.png 1536w, https:\/\/codefresh.io\/wp-content\/uploads\/2021\/03\/image1-4-20x11.png 20w\" sizes=\"(max-width: 1999px) 100vw, 1999px\" \/><\/a><figcaption id=\"caption-attachment-18895\" class=\"wp-caption-text\">Codefresh Pipeline without custom kind step<\/figcaption><\/figure>\n<p><b>BUT WAIT!<\/b> Keep reading to simplify your pipeline even more\u2026<\/p>\n<h2>Just use the <b>kind<\/b> type step<\/h2>\n<p>In Codefresh, one can create what is called a <a href=\"https:\/\/codefresh.io\/docs\/docs\/codefresh-yaml\/steps\/#creating-a-typed-codefresh-plugin\">typed step<\/a>, which packages together multiple steps, documentation, and example code into a single module, so that they\u2019re easy to share and re-use.<\/p>\n<p>Now that we understand what it takes to deploy a kind cluster, let\u2019s press the easy button and use a typed Codefresh step that consolidates our first three steps. Calling the step looks like this.<\/p>\n<pre>create_kind_cluster:\r\n    title: \"Create the kind cluster\"\r\n    stage: build\r\n    type: ${{CF_ACCOUNT}}\/kind\r\n    arguments:\r\n      KIND_POD_CONTEXT: '${{KIND_POD_CONTEXT}}'\r\n      KIND_POD_NS: '${{KIND_POD_NS}}'\r\n<\/pre>\n<p>Note that the kind step uses the same two pipeline variables that we discussed previously: KIND_POD_CONTEXT and KIND_POD_NS.<\/p>\n<p>The code for the typed step, <a href=\"https:\/\/raw.githubusercontent.com\/TedSpinks\/kind-codefresh-demo\/main\/pipeline-examples\/kind-with-typed-step.yaml\">step.yaml<\/a>, is also in the same GitHub repo. Here\u2019s how to install the step into your Codefresh account using the Codefresh CLI. If you don\u2019t have yq version 4+ installed on your workstation, you can just manually edit the step.yaml to change \u201cyour-account-name\u201d to match your account name.<\/p>\n<pre># Look up the name of your Codefresh account.\r\ncodefresh auth get-contexts\r\n\r\n# Update the name of the step so that it is namespaced with your account.\r\n# Be sure to change \"your-account-name\" before running these commands!\r\nCF_ACCOUNT=your-account-name\r\nSTEP=$CF_ACCOUNT\/kind yq eval '.metadata.name = env(STEP)' -i step.yaml\r\n\r\n# Install the step\r\ncodefresh create step-type -f step.yaml\r\n<\/pre>\n<p>After you install the step, you\u2019ll be able to search for it from within the Codefresh IDE. On the right, click the STEPS tab, and then the MY STEPS tab.<\/p>\n<figure id=\"attachment_18896\" aria-describedby=\"caption-attachment-18896\" style=\"width: 1999px\" class=\"wp-caption aligncenter\"><a href=\"https:\/\/codefresh.io\/wp-content\/uploads\/2021\/03\/image5-1.png\"><img class=\"size-full wp-image-18896\" src=\"https:\/\/codefresh.io\/wp-content\/uploads\/2021\/03\/image5-1.png\" alt=\"import-custom-step\" width=\"1999\" height=\"1163\" srcset=\"https:\/\/codefresh.io\/wp-content\/uploads\/2021\/03\/image5-1.png 1999w, https:\/\/codefresh.io\/wp-content\/uploads\/2021\/03\/image5-1-300x175.png 300w, https:\/\/codefresh.io\/wp-content\/uploads\/2021\/03\/image5-1-1024x596.png 1024w, https:\/\/codefresh.io\/wp-content\/uploads\/2021\/03\/image5-1-768x447.png 768w, https:\/\/codefresh.io\/wp-content\/uploads\/2021\/03\/image5-1-1536x894.png 1536w, https:\/\/codefresh.io\/wp-content\/uploads\/2021\/03\/image5-1-20x12.png 20w\" sizes=\"(max-width: 1999px) 100vw, 1999px\" \/><\/a><figcaption id=\"caption-attachment-18896\" class=\"wp-caption-text\">Import custom step<\/figcaption><\/figure>\n<p>When you drill into the step, you\u2019ll see example YAML code for all three steps we need in our pipeline:<\/p>\n<ol>\n<li aria-level=\"1\"><b>Call the kind step<\/b> to get\/deploy the kind pod YAML <i>and<\/i> update the pipeline\u2019s kubeconfig<\/li>\n<li aria-level=\"1\"><b>Run some deployment tests <\/b>on the kind cluster. The example includes deploying a basic \u201chello world\u201d pod to the kind cluster.<\/li>\n<li aria-level=\"1\"><b>Delete the kind pod<\/b> from its parent cluster. We made this step a \u201chook\u201d so that it always runs after the end of the pipeline, even if the pipeline should fail. Its output appears on the build screen under \u201cInitializing Process.\u201d<\/li>\n<\/ol>\n<p>Or you can simply copy <a href=\"https:\/\/github.com\/TedSpinks\/kind-codefresh-demo\/blob\/main\/pipeline-examples\/kind-with-typed-step.yaml\">kind-with-typed-step.yaml<\/a> from the GitHub repo into your pipeline.<\/p>\n<h2>Presto!<\/h2>\n<p>Now when we use our kind step, our pipeline build looks like this:<\/p>\n<figure id=\"attachment_18897\" aria-describedby=\"caption-attachment-18897\" style=\"width: 1999px\" class=\"wp-caption aligncenter\"><a href=\"https:\/\/codefresh.io\/wp-content\/uploads\/2021\/03\/image2-2.png\"><img class=\"size-full wp-image-18897\" src=\"https:\/\/codefresh.io\/wp-content\/uploads\/2021\/03\/image2-2.png\" alt=\"kind-step\" width=\"1999\" height=\"1080\" srcset=\"https:\/\/codefresh.io\/wp-content\/uploads\/2021\/03\/image2-2.png 1999w, https:\/\/codefresh.io\/wp-content\/uploads\/2021\/03\/image2-2-300x162.png 300w, https:\/\/codefresh.io\/wp-content\/uploads\/2021\/03\/image2-2-1024x553.png 1024w, https:\/\/codefresh.io\/wp-content\/uploads\/2021\/03\/image2-2-768x415.png 768w, https:\/\/codefresh.io\/wp-content\/uploads\/2021\/03\/image2-2-1536x830.png 1536w, https:\/\/codefresh.io\/wp-content\/uploads\/2021\/03\/image2-2-20x11.png 20w\" sizes=\"(max-width: 1999px) 100vw, 1999px\" \/><\/a><figcaption id=\"caption-attachment-18897\" class=\"wp-caption-text\">Kind pipeline step<\/figcaption><\/figure>\n<p>Nice and simple! Our ephemeral Kubernetes cluster was created in 2.5 minutes and deleted in less than one second!!<\/p>\n<p>New to Codefresh? <a href=\"https:\/\/codefresh.io\/codefresh-signup\/?utm_source=Blog&amp;utm_medium=Post&amp;utm_campaign=kindcluster\">Create Your Free Account today<\/a>!<\/p>\n<input class=\"fooboxshare_post_id\" type=\"hidden\" value=\"18892\"\/>","protected":false},"excerpt":{"rendered":"<p>Wouldn\u2019t it be handy to quickly spin up a Kubernetes cluster for CI testing, on-demand? Interested? If so, read on! Background Here at Codefresh, many of our customers develop Kubernetes-native applications. A common CI task is to create a Kubernetes cluster to test out deployment processes and integrations. Often, such tests can be greatly simplified &hellip; <a href=\"https:\/\/codefresh.io\/kubernetes-tutorial\/create-demand-kubernetes-clusters-ci-cd-kind-codefresh\/\">Read more<\/a><\/p>\n","protected":false},"author":93,"featured_media":18898,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":[],"categories":[1657,1538,6],"tags":[53,651,961,5614,5669,5670,5671,5672,5673,5674,5675,5676,5677],"yoast_head":"<!-- This site is optimized with the Yoast SEO Premium plugin v17.9 (Yoast SEO v18.4.1) - https:\/\/yoast.com\/wordpress\/plugins\/seo\/ -->\n<title>Create On-Demand Kubernetes Clusters for CI\/CD With Kind and Codefresh | Codefresh<\/title>\n<meta name=\"robots\" content=\"index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1\" \/>\n<link rel=\"canonical\" href=\"https:\/\/codefresh.io\/kubernetes-tutorial\/create-demand-kubernetes-clusters-ci-cd-kind-codefresh\/\" \/>\n<meta property=\"og:locale\" content=\"en_US\" \/>\n<meta property=\"og:type\" content=\"article\" \/>\n<meta property=\"og:title\" content=\"Create On-Demand Kubernetes Clusters for CI\/CD With Kind and Codefresh\" \/>\n<meta property=\"og:description\" content=\"Wouldn\u2019t it be handy to quickly spin up a Kubernetes cluster for CI testing, on-demand? Interested? If so, read on! Background Here at Codefresh, many of our customers develop Kubernetes-native applications. A common CI task is to create a Kubernetes cluster to test out deployment processes and integrations. Often, such tests can be greatly simplified &hellip; Read more\" \/>\n<meta property=\"og:url\" content=\"https:\/\/codefresh.io\/kubernetes-tutorial\/create-demand-kubernetes-clusters-ci-cd-kind-codefresh\/\" \/>\n<meta property=\"og:site_name\" content=\"Codefresh\" \/>\n<meta property=\"article:publisher\" content=\"https:\/\/www.facebook.com\/codefresh.io\" \/>\n<meta property=\"article:published_time\" content=\"2021-03-25T14:50:11+00:00\" \/>\n<meta property=\"article:modified_time\" content=\"2022-03-01T17:40:59+00:00\" \/>\n<meta property=\"og:image\" content=\"https:\/\/codefresh.io\/wp-content\/uploads\/2021\/03\/kind-blog-post.png\" \/>\n\t<meta property=\"og:image:width\" content=\"1640\" \/>\n\t<meta property=\"og:image:height\" content=\"624\" \/>\n\t<meta property=\"og:image:type\" content=\"image\/png\" \/>\n<meta name=\"twitter:card\" content=\"summary_large_image\" \/>\n<meta name=\"twitter:creator\" content=\"@codefresh\" \/>\n<meta name=\"twitter:site\" content=\"@codefresh\" \/>\n<meta name=\"twitter:label1\" content=\"Written by\" \/>\n\t<meta name=\"twitter:data1\" content=\"Ted Spinks\" \/>\n\t<meta name=\"twitter:label2\" content=\"Est. reading time\" \/>\n\t<meta name=\"twitter:data2\" content=\"7 minutes\" \/>\n<script type=\"application\/ld+json\" class=\"yoast-schema-graph\">{\"@context\":\"https:\/\/schema.org\",\"@graph\":[{\"@type\":\"Organization\",\"@id\":\"https:\/\/codefresh.io\/#organization\",\"name\":\"Codefresh\",\"url\":\"https:\/\/codefresh.io\/\",\"sameAs\":[\"https:\/\/www.facebook.com\/codefresh.io\",\"https:\/\/www.linkedin.com\/company\/codefresh\",\"https:\/\/www.youtube.com\/channel\/UC9r94SY6BqN05kXPIHsDXPg\",\"https:\/\/twitter.com\/codefresh\"],\"logo\":{\"@type\":\"ImageObject\",\"@id\":\"https:\/\/codefresh.io\/#logo\",\"inLanguage\":\"en-US\",\"url\":\"https:\/\/codefresh.io\/wp-content\/uploads\/2022\/02\/Codefresh_Logo_Vertical_LightBkgd.png\",\"contentUrl\":\"https:\/\/codefresh.io\/wp-content\/uploads\/2022\/02\/Codefresh_Logo_Vertical_LightBkgd.png\",\"width\":800,\"height\":800,\"caption\":\"Codefresh\"},\"image\":{\"@id\":\"https:\/\/codefresh.io\/#logo\"}},{\"@type\":\"WebSite\",\"@id\":\"https:\/\/codefresh.io\/#website\",\"url\":\"https:\/\/codefresh.io\/\",\"name\":\"Codefresh\",\"description\":\"\",\"publisher\":{\"@id\":\"https:\/\/codefresh.io\/#organization\"},\"potentialAction\":[{\"@type\":\"SearchAction\",\"target\":{\"@type\":\"EntryPoint\",\"urlTemplate\":\"https:\/\/codefresh.io\/?s={search_term_string}\"},\"query-input\":\"required name=search_term_string\"}],\"inLanguage\":\"en-US\"},{\"@type\":\"ImageObject\",\"@id\":\"https:\/\/codefresh.io\/kubernetes-tutorial\/create-demand-kubernetes-clusters-ci-cd-kind-codefresh\/#primaryimage\",\"inLanguage\":\"en-US\",\"url\":\"https:\/\/codefresh.io\/wp-content\/uploads\/2021\/03\/kind-blog-post.png\",\"contentUrl\":\"https:\/\/codefresh.io\/wp-content\/uploads\/2021\/03\/kind-blog-post.png\",\"width\":1640,\"height\":624,\"caption\":\"kind-blog-header\"},{\"@type\":\"WebPage\",\"@id\":\"https:\/\/codefresh.io\/kubernetes-tutorial\/create-demand-kubernetes-clusters-ci-cd-kind-codefresh\/#webpage\",\"url\":\"https:\/\/codefresh.io\/kubernetes-tutorial\/create-demand-kubernetes-clusters-ci-cd-kind-codefresh\/\",\"name\":\"Create On-Demand Kubernetes Clusters for CI\/CD With Kind and Codefresh | Codefresh\",\"isPartOf\":{\"@id\":\"https:\/\/codefresh.io\/#website\"},\"primaryImageOfPage\":{\"@id\":\"https:\/\/codefresh.io\/kubernetes-tutorial\/create-demand-kubernetes-clusters-ci-cd-kind-codefresh\/#primaryimage\"},\"datePublished\":\"2021-03-25T14:50:11+00:00\",\"dateModified\":\"2022-03-01T17:40:59+00:00\",\"breadcrumb\":{\"@id\":\"https:\/\/codefresh.io\/kubernetes-tutorial\/create-demand-kubernetes-clusters-ci-cd-kind-codefresh\/#breadcrumb\"},\"inLanguage\":\"en-US\",\"potentialAction\":[{\"@type\":\"ReadAction\",\"target\":[\"https:\/\/codefresh.io\/kubernetes-tutorial\/create-demand-kubernetes-clusters-ci-cd-kind-codefresh\/\"]}]},{\"@type\":\"BreadcrumbList\",\"@id\":\"https:\/\/codefresh.io\/kubernetes-tutorial\/create-demand-kubernetes-clusters-ci-cd-kind-codefresh\/#breadcrumb\",\"itemListElement\":[{\"@type\":\"ListItem\",\"position\":1,\"name\":\"Home\",\"item\":\"https:\/\/codefresh.io\/\"},{\"@type\":\"ListItem\",\"position\":2,\"name\":\"Create On-Demand Kubernetes Clusters for CI\/CD With Kind and Codefresh\"}]},{\"@type\":\"Article\",\"@id\":\"https:\/\/codefresh.io\/kubernetes-tutorial\/create-demand-kubernetes-clusters-ci-cd-kind-codefresh\/#article\",\"isPartOf\":{\"@id\":\"https:\/\/codefresh.io\/kubernetes-tutorial\/create-demand-kubernetes-clusters-ci-cd-kind-codefresh\/#webpage\"},\"author\":{\"@id\":\"https:\/\/codefresh.io\/#\/schema\/person\/ae174f0651c1ef30c23e7209de3a9968\"},\"headline\":\"Create On-Demand Kubernetes Clusters for CI\/CD With Kind and Codefresh\",\"datePublished\":\"2021-03-25T14:50:11+00:00\",\"dateModified\":\"2022-03-01T17:40:59+00:00\",\"mainEntityOfPage\":{\"@id\":\"https:\/\/codefresh.io\/kubernetes-tutorial\/create-demand-kubernetes-clusters-ci-cd-kind-codefresh\/#webpage\"},\"wordCount\":1203,\"commentCount\":0,\"publisher\":{\"@id\":\"https:\/\/codefresh.io\/#organization\"},\"image\":{\"@id\":\"https:\/\/codefresh.io\/kubernetes-tutorial\/create-demand-kubernetes-clusters-ci-cd-kind-codefresh\/#primaryimage\"},\"thumbnailUrl\":\"https:\/\/codefresh.io\/wp-content\/uploads\/2021\/03\/kind-blog-post.png\",\"keywords\":[\"CI\/CD\",\"K8s\",\"pipeline\",\"freestyle step\",\"kind cluster\",\"kind cluster in pipeline\",\"cluster in pipeline\",\"kubernetes pipeline\",\"kubernetes cluster in pipeline\",\"cluster for testing\",\"kubernetes cluster\",\"cluster in CI\/CD\",\"pipeline tutorials\"],\"articleSection\":[\"Kubernetes Tutorials\",\"DevOps Tutorials\",\"How Tos\"],\"inLanguage\":\"en-US\",\"potentialAction\":[{\"@type\":\"CommentAction\",\"name\":\"Comment\",\"target\":[\"https:\/\/codefresh.io\/kubernetes-tutorial\/create-demand-kubernetes-clusters-ci-cd-kind-codefresh\/#respond\"]}]},{\"@type\":\"Person\",\"@id\":\"https:\/\/codefresh.io\/#\/schema\/person\/ae174f0651c1ef30c23e7209de3a9968\",\"name\":\"Ted Spinks\",\"image\":{\"@type\":\"ImageObject\",\"@id\":\"https:\/\/codefresh.io\/#personlogo\",\"inLanguage\":\"en-US\",\"url\":\"https:\/\/secure.gravatar.com\/avatar\/702f043f00b77f71ae58a18b11daaef3?s=96&d=blank&r=g\",\"contentUrl\":\"https:\/\/secure.gravatar.com\/avatar\/702f043f00b77f71ae58a18b11daaef3?s=96&d=blank&r=g\",\"caption\":\"Ted Spinks\"},\"description\":\"Ted Spinks is a Senior Solutions Architect at Codefresh. He is huge fan of DevOps automation. He loves writing code, diving into new APIs, and solving automation challenges. Before Codefresh, Ted worked as a CI\/CD engineer for an autonomous driving software company, Zenuity, and as a consultant at AHEAD and VMware.\",\"url\":\"https:\/\/codefresh.io\/author\/ted-spinks\/\"}]}<\/script>\n<!-- \/ Yoast SEO Premium plugin. -->","yoast_head_json":{"title":"Create On-Demand Kubernetes Clusters for CI\/CD With Kind and Codefresh | Codefresh","robots":{"index":"index","follow":"follow","max-snippet":"max-snippet:-1","max-image-preview":"max-image-preview:large","max-video-preview":"max-video-preview:-1"},"canonical":"https:\/\/codefresh.io\/kubernetes-tutorial\/create-demand-kubernetes-clusters-ci-cd-kind-codefresh\/","og_locale":"en_US","og_type":"article","og_title":"Create On-Demand Kubernetes Clusters for CI\/CD With Kind and Codefresh","og_description":"Wouldn\u2019t it be handy to quickly spin up a Kubernetes cluster for CI testing, on-demand? Interested? If so, read on! Background Here at Codefresh, many of our customers develop Kubernetes-native applications. A common CI task is to create a Kubernetes cluster to test out deployment processes and integrations. Often, such tests can be greatly simplified &hellip; Read more","og_url":"https:\/\/codefresh.io\/kubernetes-tutorial\/create-demand-kubernetes-clusters-ci-cd-kind-codefresh\/","og_site_name":"Codefresh","article_publisher":"https:\/\/www.facebook.com\/codefresh.io","article_published_time":"2021-03-25T14:50:11+00:00","article_modified_time":"2022-03-01T17:40:59+00:00","og_image":[{"width":1640,"height":624,"url":"https:\/\/codefresh.io\/wp-content\/uploads\/2021\/03\/kind-blog-post.png","type":"image\/png"}],"twitter_card":"summary_large_image","twitter_creator":"@codefresh","twitter_site":"@codefresh","twitter_misc":{"Written by":"Ted Spinks","Est. reading time":"7 minutes"},"schema":{"@context":"https:\/\/schema.org","@graph":[{"@type":"Organization","@id":"https:\/\/codefresh.io\/#organization","name":"Codefresh","url":"https:\/\/codefresh.io\/","sameAs":["https:\/\/www.facebook.com\/codefresh.io","https:\/\/www.linkedin.com\/company\/codefresh","https:\/\/www.youtube.com\/channel\/UC9r94SY6BqN05kXPIHsDXPg","https:\/\/twitter.com\/codefresh"],"logo":{"@type":"ImageObject","@id":"https:\/\/codefresh.io\/#logo","inLanguage":"en-US","url":"https:\/\/codefresh.io\/wp-content\/uploads\/2022\/02\/Codefresh_Logo_Vertical_LightBkgd.png","contentUrl":"https:\/\/codefresh.io\/wp-content\/uploads\/2022\/02\/Codefresh_Logo_Vertical_LightBkgd.png","width":800,"height":800,"caption":"Codefresh"},"image":{"@id":"https:\/\/codefresh.io\/#logo"}},{"@type":"WebSite","@id":"https:\/\/codefresh.io\/#website","url":"https:\/\/codefresh.io\/","name":"Codefresh","description":"","publisher":{"@id":"https:\/\/codefresh.io\/#organization"},"potentialAction":[{"@type":"SearchAction","target":{"@type":"EntryPoint","urlTemplate":"https:\/\/codefresh.io\/?s={search_term_string}"},"query-input":"required name=search_term_string"}],"inLanguage":"en-US"},{"@type":"ImageObject","@id":"https:\/\/codefresh.io\/kubernetes-tutorial\/create-demand-kubernetes-clusters-ci-cd-kind-codefresh\/#primaryimage","inLanguage":"en-US","url":"https:\/\/codefresh.io\/wp-content\/uploads\/2021\/03\/kind-blog-post.png","contentUrl":"https:\/\/codefresh.io\/wp-content\/uploads\/2021\/03\/kind-blog-post.png","width":1640,"height":624,"caption":"kind-blog-header"},{"@type":"WebPage","@id":"https:\/\/codefresh.io\/kubernetes-tutorial\/create-demand-kubernetes-clusters-ci-cd-kind-codefresh\/#webpage","url":"https:\/\/codefresh.io\/kubernetes-tutorial\/create-demand-kubernetes-clusters-ci-cd-kind-codefresh\/","name":"Create On-Demand Kubernetes Clusters for CI\/CD With Kind and Codefresh | Codefresh","isPartOf":{"@id":"https:\/\/codefresh.io\/#website"},"primaryImageOfPage":{"@id":"https:\/\/codefresh.io\/kubernetes-tutorial\/create-demand-kubernetes-clusters-ci-cd-kind-codefresh\/#primaryimage"},"datePublished":"2021-03-25T14:50:11+00:00","dateModified":"2022-03-01T17:40:59+00:00","breadcrumb":{"@id":"https:\/\/codefresh.io\/kubernetes-tutorial\/create-demand-kubernetes-clusters-ci-cd-kind-codefresh\/#breadcrumb"},"inLanguage":"en-US","potentialAction":[{"@type":"ReadAction","target":["https:\/\/codefresh.io\/kubernetes-tutorial\/create-demand-kubernetes-clusters-ci-cd-kind-codefresh\/"]}]},{"@type":"BreadcrumbList","@id":"https:\/\/codefresh.io\/kubernetes-tutorial\/create-demand-kubernetes-clusters-ci-cd-kind-codefresh\/#breadcrumb","itemListElement":[{"@type":"ListItem","position":1,"name":"Home","item":"https:\/\/codefresh.io\/"},{"@type":"ListItem","position":2,"name":"Create On-Demand Kubernetes Clusters for CI\/CD With Kind and Codefresh"}]},{"@type":"Article","@id":"https:\/\/codefresh.io\/kubernetes-tutorial\/create-demand-kubernetes-clusters-ci-cd-kind-codefresh\/#article","isPartOf":{"@id":"https:\/\/codefresh.io\/kubernetes-tutorial\/create-demand-kubernetes-clusters-ci-cd-kind-codefresh\/#webpage"},"author":{"@id":"https:\/\/codefresh.io\/#\/schema\/person\/ae174f0651c1ef30c23e7209de3a9968"},"headline":"Create On-Demand Kubernetes Clusters for CI\/CD With Kind and Codefresh","datePublished":"2021-03-25T14:50:11+00:00","dateModified":"2022-03-01T17:40:59+00:00","mainEntityOfPage":{"@id":"https:\/\/codefresh.io\/kubernetes-tutorial\/create-demand-kubernetes-clusters-ci-cd-kind-codefresh\/#webpage"},"wordCount":1203,"commentCount":0,"publisher":{"@id":"https:\/\/codefresh.io\/#organization"},"image":{"@id":"https:\/\/codefresh.io\/kubernetes-tutorial\/create-demand-kubernetes-clusters-ci-cd-kind-codefresh\/#primaryimage"},"thumbnailUrl":"https:\/\/codefresh.io\/wp-content\/uploads\/2021\/03\/kind-blog-post.png","keywords":["CI\/CD","K8s","pipeline","freestyle step","kind cluster","kind cluster in pipeline","cluster in pipeline","kubernetes pipeline","kubernetes cluster in pipeline","cluster for testing","kubernetes cluster","cluster in CI\/CD","pipeline tutorials"],"articleSection":["Kubernetes Tutorials","DevOps Tutorials","How Tos"],"inLanguage":"en-US","potentialAction":[{"@type":"CommentAction","name":"Comment","target":["https:\/\/codefresh.io\/kubernetes-tutorial\/create-demand-kubernetes-clusters-ci-cd-kind-codefresh\/#respond"]}]},{"@type":"Person","@id":"https:\/\/codefresh.io\/#\/schema\/person\/ae174f0651c1ef30c23e7209de3a9968","name":"Ted Spinks","image":{"@type":"ImageObject","@id":"https:\/\/codefresh.io\/#personlogo","inLanguage":"en-US","url":"https:\/\/secure.gravatar.com\/avatar\/702f043f00b77f71ae58a18b11daaef3?s=96&d=blank&r=g","contentUrl":"https:\/\/secure.gravatar.com\/avatar\/702f043f00b77f71ae58a18b11daaef3?s=96&d=blank&r=g","caption":"Ted Spinks"},"description":"Ted Spinks is a Senior Solutions Architect at Codefresh. He is huge fan of DevOps automation. He loves writing code, diving into new APIs, and solving automation challenges. Before Codefresh, Ted worked as a CI\/CD engineer for an autonomous driving software company, Zenuity, and as a consultant at AHEAD and VMware.","url":"https:\/\/codefresh.io\/author\/ted-spinks\/"}]}},"acf":[],"_links":{"self":[{"href":"https:\/\/codefresh.io\/wp-json\/wp\/v2\/posts\/18892"}],"collection":[{"href":"https:\/\/codefresh.io\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/codefresh.io\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/codefresh.io\/wp-json\/wp\/v2\/users\/93"}],"replies":[{"embeddable":true,"href":"https:\/\/codefresh.io\/wp-json\/wp\/v2\/comments?post=18892"}],"version-history":[{"count":1,"href":"https:\/\/codefresh.io\/wp-json\/wp\/v2\/posts\/18892\/revisions"}],"predecessor-version":[{"id":21754,"href":"https:\/\/codefresh.io\/wp-json\/wp\/v2\/posts\/18892\/revisions\/21754"}],"wp:featuredmedia":[{"embeddable":true,"href":"https:\/\/codefresh.io\/wp-json\/wp\/v2\/media\/18898"}],"wp:attachment":[{"href":"https:\/\/codefresh.io\/wp-json\/wp\/v2\/media?parent=18892"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/codefresh.io\/wp-json\/wp\/v2\/categories?post=18892"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/codefresh.io\/wp-json\/wp\/v2\/tags?post=18892"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}