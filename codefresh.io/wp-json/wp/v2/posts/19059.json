{"id":19059,"date":"2021-04-21T08:34:58","date_gmt":"2021-04-21T16:34:58","guid":{"rendered":"https:\/\/codefresh.io\/?p=19059"},"modified":"2022-03-01T17:04:21","modified_gmt":"2022-03-01T17:04:21","slug":"trigger-codefresh-pipeline-argocd","status":"publish","type":"post","link":"https:\/\/codefresh.io\/continuous-integration\/trigger-codefresh-pipeline-argocd\/","title":{"rendered":"Trigger a Codefresh Pipeline from Argo CD"},"content":{"rendered":"<p>Codefresh is an awesome platform for doing <a href=\"https:\/\/codefresh.io\/gitops\/\">GitOps<\/a> deployments to Kubernetes. Starting last year, the Codefresh team has been adding rich integrations with Argo CD and Argo Rollouts, GitOps observability dashboards, and more. Codefresh pipelines, in particular, have played an integral role in our customers\u2019 progressive delivery workflows by allowing them to orchestrate all of the testing, analysis, and rollback activities that work in conjunction with Argo CD synchronization.<\/p>\n<p>While it is quite common to have one or two primary pipelines that handle these large workflows, it can also be useful to trigger an occasional <i>helper<\/i> pipeline, based on events in Argo CD. For example, you might want to trigger a pipeline whenever an Argo CD application enters a failed or error state. Perhaps you\u2019d like such a pipeline to gather a log bundle or open a ticket.<\/p>\n<p>The goal of this article is to show you how you can use events in Argo CD to trigger pipelines in Codefresh.<\/p>\n<h2>Prerequisites<\/h2>\n<p>To follow along with this article, you should already have a <a href=\"https:\/\/codefresh.io\/docs\/docs\/getting-started\/create-a-codefresh-account\/\">Codefresh account<\/a> and be using <a href=\"https:\/\/codefresh.io\/docs\/docs\/ci-cd-guides\/gitops-deployments\/\">Argo CD<\/a> for GitOps-style deployments to Kubernetes.<\/p>\n<p>Earlier this year, the Argo team released Argo CD Notifications, which is an official add-on tool for alerting on Argo CD state changes. In this article, we\u2019ll be leveraging this tool to watch for an example event and trigger a corresponding pipeline in Codefresh.<\/p>\n<p>If you haven\u2019t already installed Argo CD Notifications, then I recommend you follow this quick installation guide from the documentation: <a href=\"https:\/\/argocd-notifications.readthedocs.io\/en\/stable\/#getting-started\">https:\/\/argocd-notifications.readthedocs.io\/en\/stable\/#getting-started<\/a>. The installation consists primarily of applying 2 manifest files. Sometimes the documentation can lag behind the releases slightly, so I also recommend that you use the manifest files from the latest release, which can be found here: <a href=\"https:\/\/github.com\/argoproj-labs\/argocd-notifications\/releases\">https:\/\/github.com\/argoproj-labs\/argocd-notifications\/releases<\/a>.<\/p>\n<h2>Configure Argo CD Notifications<\/h2>\n<p>Argo CD Notifications should be installed into the same namespace as Argo CD, which by default is called <b>argocd<\/b>. We\u2019ll be configuring it via a Secret and a ConfigMap within this namespace.<\/p>\n<p>First, let\u2019s update the secret to add an API Key for authenticating to Codefresh. You can create an API Key in the Codefresh UI by navigating to the Settings area at the bottom-left, then User Settings, and then <a href=\"https:\/\/codefresh.io\/docs\/docs\/administration\/user-settings\/#api-key-creation\">API Keys<\/a>.<\/p>\n<p>Now go ahead and edit the secret.<\/p>\n<pre>kubectl -n argocd edit secret argocd-notifications-secret<\/pre>\n<p>In your editor, scroll down to the bottom and add a <b>stringData:<\/b> section with a single key:value pair. Call the key <b>codefresh-api-key<\/b>. For its value, paste in your Codefresh API Key.<\/p>\n<figure id=\"attachment_19064\" aria-describedby=\"caption-attachment-19064\" style=\"width: 1304px\" class=\"wp-caption aligncenter\"><a href=\"https:\/\/codefresh.io\/wp-content\/uploads\/2021\/04\/image2-1.png\"><img class=\"size-full wp-image-19064\" src=\"https:\/\/codefresh.io\/wp-content\/uploads\/2021\/04\/image2-1.png\" alt=\"codefresh-api-key\" width=\"1304\" height=\"500\" srcset=\"https:\/\/codefresh.io\/wp-content\/uploads\/2021\/04\/image2-1.png 1304w, https:\/\/codefresh.io\/wp-content\/uploads\/2021\/04\/image2-1-300x115.png 300w, https:\/\/codefresh.io\/wp-content\/uploads\/2021\/04\/image2-1-1024x393.png 1024w, https:\/\/codefresh.io\/wp-content\/uploads\/2021\/04\/image2-1-768x294.png 768w, https:\/\/codefresh.io\/wp-content\/uploads\/2021\/04\/image2-1-20x8.png 20w\" sizes=\"(max-width: 1304px) 100vw, 1304px\" \/><\/a><figcaption id=\"caption-attachment-19064\" class=\"wp-caption-text\">Codefresh API Key<\/figcaption><\/figure>\n<p>Save the Secret and exit.<\/p>\n<p>Next, let\u2019s create a little example pipeline in Codefresh. This is the pipeline that we\u2019ll be triggering from Argo CD Notifications. For illustrative purposes, we\u2019ll have it print out all the \u201cARGOCD\u201d variables that we\u2019ll be passing in from the event in Argo CD.<\/p>\n<pre>version: \"1.0\"\r\nstages:\r\n\u00a0 - \"test\"\r\nsteps:\r\n\u00a0 print_webhook_args:\r\n\u00a0 \u00a0 title: Print variables passed from Argo CD\r\n\u00a0 \u00a0 stage: \"test\"\r\n\u00a0 \u00a0 image: alpine\r\n\u00a0 \u00a0 commands:\r\n\u00a0 \u00a0 \u00a0 - env | grep ARGOCD\r\n<\/pre>\n<p>&nbsp;<\/p>\n<p>After you save the pipeline, click the Settings tab and then copy its PIPELINE ID. We\u2019ll need this in a moment.<\/p>\n<figure id=\"attachment_19060\" aria-describedby=\"caption-attachment-19060\" style=\"width: 1024px\" class=\"wp-caption aligncenter\"><a href=\"https:\/\/codefresh.io\/wp-content\/uploads\/2021\/04\/image6.png\"><img class=\"wp-image-19060 size-large\" src=\"https:\/\/codefresh.io\/wp-content\/uploads\/2021\/04\/image6-1024x628.png\" alt=\"pipeline-settings\" width=\"1024\" height=\"628\" srcset=\"https:\/\/codefresh.io\/wp-content\/uploads\/2021\/04\/image6-1024x628.png 1024w, https:\/\/codefresh.io\/wp-content\/uploads\/2021\/04\/image6-300x184.png 300w, https:\/\/codefresh.io\/wp-content\/uploads\/2021\/04\/image6-768x471.png 768w, https:\/\/codefresh.io\/wp-content\/uploads\/2021\/04\/image6-1536x943.png 1536w, https:\/\/codefresh.io\/wp-content\/uploads\/2021\/04\/image6-20x12.png 20w, https:\/\/codefresh.io\/wp-content\/uploads\/2021\/04\/image6.png 1548w\" sizes=\"(max-width: 1024px) 100vw, 1024px\" \/><\/a><figcaption id=\"caption-attachment-19060\" class=\"wp-caption-text\">Pipeline Settings<\/figcaption><\/figure>\n<p>We\u2019ll be performing all the rest of our configuration via the ConfigMap I mentioned. Let\u2019s go ahead and edit it.<\/p>\n<pre>kubectl edit -n argocd cm argocd-notifications-cm<\/pre>\n<p>If you followed the aforementioned install guide for Argo CD Notifications, then the <b>data<\/b> section of this ConfigMap will already contain lots of code. Copy the 3 code blocks from below, and append them to the end of your data section.<\/p>\n<pre> \u00a0# First part of the webhook: URL endpoint + creds\r\n\u00a0 service.webhook.codefresh: |\r\n\u00a0 \u00a0 url: https:\/\/g.codefresh.io\r\n\u00a0 \u00a0 headers:\r\n\u00a0 \u00a0 - name: content-type\r\n\u00a0 \u00a0 \u00a0 value: application\/json\r\n\u00a0 \u00a0 - name: charset\r\n\u00a0 \u00a0 \u00a0 value: utf-8\r\n\u00a0 \u00a0 - name: Authorization\r\n\u00a0 \u00a0 \u00a0 value: $codefresh-api-key\u00a0 # this looks up the key in argocd-notifications-secret\r\n\r\n\u00a0 # Second part of the webhook: REST URL path + data to run the pipeline\r\n\u00a0 template.codefresh-simple-test-pipeline: |\r\n\u00a0 \u00a0 webhook:\r\n\u00a0 \u00a0 \u00a0 codefresh:\r\n\u00a0 \u00a0 \u00a0 \u00a0 method: POST\r\n\u00a0 \u00a0 \u00a0 \u00a0 path: \/api\/builds\/my-build-id\r\n\u00a0 \u00a0 \u00a0 \u00a0 body: |\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 {\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"serviceId\": \"my-build-id\",\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"type\": \"build\",\r\n\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"trigger\": \"my-trigger-name\",\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"repoOwner\": \"my-repo-account\",\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"repoName\": \"my-repo-name\",\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"branch\": \"master\",\r\n\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"variables\": {\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"ARGOCD_APP_NAME\": \"{{.app.metadata.name}}\",\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"ARGOCD_APP_URL\": \"{{.context.argocdUrl}}\/applications\/{{.app.metadata.name}}\",\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"ARGOCD_APP_STATUS\": \"{{.app.status.operationState.phase}}\",\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"ARGOCD_SYNC_STATUS\": \"{{.app.status.sync.status}}\",\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"ARGOCD_SYNC_REVISION\": \"{{.app.status.sync.revision}}\",\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"ARGOCD_SYNC_START_TIME\": \"{{.app.status.operationState.startedAt}}\",\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"ARGOCD_GIT_URL\": \"{{.app.spec.source.repoURL}}\"\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 }\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 }\r\n\r\n\u00a0 # This trigger ties its specified Argo CD events to the webhook above\r\n\u00a0 trigger.sync-operation-change: |\r\n\u00a0 \u00a0 - when: app.status.operationState.phase in ['Error', 'Failed']\r\n\u00a0 \u00a0 \u00a0 oncePer: app.status.sync.revision\r\n\u00a0 \u00a0 \u00a0 send: [codefresh-simple-test-pipeline]<\/pre>\n<p>I\u2019ll explain what\u2019s going on in these code blocks. The first two blocks define our webhook which will communicate with Codefresh:<\/p>\n<ul>\n<li aria-level=\"1\"><b>service.webhook.codefresh<\/b> &#8211; this service defines the base URL and credentials for connecting to Codefresh. It could be used by multiple templates that make different REST calls to Codefresh.<\/li>\n<li aria-level=\"1\"><b>template.codefresh-simple-test-pipeline <\/b>&#8211; this template defines the specific REST URL (appended to the base URL) and data that we\u2019ll use to tell Codefresh to run our specific pipeline. You can see that a large part of this data consists of ARGOCD_ variables that we\u2019ll be able to use within the pipeline.<\/li>\n<\/ul>\n<p>&nbsp;<\/p>\n<p>The third block of code, <b>trigger.sync-operation-change<\/b> ties some events in Argo CD to the webhook defined in the previous 2 blocks. The events we\u2019re specifying here are Error and Failed sync events.<\/p>\n<p>Before you save the ConfigMap, we need to make some changes. Replace all instances of <b>my-build-id<\/b> (there should be two) with the Pipeline ID that you copied previously (it was 6061fd6a9732973e2e6fde89 in the previous example screenshot).<\/p>\n<p>If the pipeline you created earlier has a trigger, then we\u2019ll need to update all 4 trigger-related values. If it doesn\u2019t have a trigger (or if you want to ignore the trigger when you run the pipeline), then you can just delete these 4 lines.<\/p>\n<pre>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"trigger\": \"my-trigger-name\",\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"repoOwner\": \"my-repo-account\",\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"repoName\": \"my-repo-name\",\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"branch\": \"master\",<\/pre>\n<p>Here is a pipeline trigger that you can use as an example:<\/p>\n<figure id=\"attachment_19061\" aria-describedby=\"caption-attachment-19061\" style=\"width: 300px\" class=\"wp-caption aligncenter\"><a href=\"https:\/\/codefresh.io\/wp-content\/uploads\/2021\/04\/image3-1.png\"><img class=\"wp-image-19061 size-medium\" src=\"https:\/\/codefresh.io\/wp-content\/uploads\/2021\/04\/image3-1-300x129.png\" alt=\"pipeline-trigger\" width=\"300\" height=\"129\" srcset=\"https:\/\/codefresh.io\/wp-content\/uploads\/2021\/04\/image3-1-300x129.png 300w, https:\/\/codefresh.io\/wp-content\/uploads\/2021\/04\/image3-1-20x9.png 20w, https:\/\/codefresh.io\/wp-content\/uploads\/2021\/04\/image3-1.png 696w\" sizes=\"(max-width: 300px) 100vw, 300px\" \/><\/a><figcaption id=\"caption-attachment-19061\" class=\"wp-caption-text\">Pipeline Trigger<\/figcaption><\/figure>\n<p>For this example, you would update the trigger-related values like this:<\/p>\n<pre>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"trigger\": \"PushCommits\",\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"repoOwner\": \"salesdemocf\",\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"repoName\": \"argo-voting-app\",\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \"branch\": \"master\",<\/pre>\n<p>&nbsp;<\/p>\n<p>Now save and exit the ConfigMap! Whew, we\u2019re almost done. For the ArgoCD Notification service to read the updated ConfigMap, we\u2019ll want to restart its pod. Since its pod is controlled by a deployment resource, we can just delete the pod, and the deployment will create a new one for us.<\/p>\n<pre>% kubectl get pods\r\nNAME \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 READY \u00a0 STATUS\u00a0 \u00a0 RESTARTS \u00a0 AGE\r\nargocd-application-controller-0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 1\/1 \u00a0 \u00a0 Running \u00a0 0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 16d\r\nargocd-dex-server-6dc48777d4-gxrfg \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 1\/1 \u00a0 \u00a0 Running \u00a0 0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 16d\r\nargocd-notifications-controller-6f8559c959-d949m \u00a0 1\/1 \u00a0 \u00a0 Running \u00a0 0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 5h53m\r\nargocd-redis-66b48966cb-cjgw9\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 1\/1 \u00a0 \u00a0 Running \u00a0 0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 16d\r\nargocd-repo-server-7b579957d9-2srfq\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 1\/1 \u00a0 \u00a0 Running \u00a0 0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 16d\r\nargocd-server-7fdb567cd4-nngbj \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 1\/1 \u00a0 \u00a0 Running \u00a0 0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 16d\r\ncf-argocd-agent-fdfc56f7d-hn48x\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 1\/1 \u00a0 \u00a0 Running \u00a0 31 \u00a0 \u00a0 \u00a0 \u00a0 14d% kubectl -n argocd delete pod argocd-notifications-controller-6f8559c959-d949m\r\npod \"argocd-notifications-controller-6f8559c959-d949m\" deleted<\/pre>\n<p>&nbsp;<\/p>\n<p>Now we\u2019re ready to test!! To create the failure event we\u2019ve defined, we just need to break a manifest in one of the Git repos that Argo CD is syncing. I chose a manifest in one of my teammate\u2019s repositories\u2026 doh, sorry Brandon!<\/p>\n<figure id=\"attachment_19062\" aria-describedby=\"caption-attachment-19062\" style=\"width: 300px\" class=\"wp-caption aligncenter\"><a href=\"https:\/\/codefresh.io\/wp-content\/uploads\/2021\/04\/image1.png\"><img class=\"wp-image-19062 size-medium\" src=\"https:\/\/codefresh.io\/wp-content\/uploads\/2021\/04\/image1-300x213.png\" alt=\"argocd-state\" width=\"300\" height=\"213\" srcset=\"https:\/\/codefresh.io\/wp-content\/uploads\/2021\/04\/image1-300x213.png 300w, https:\/\/codefresh.io\/wp-content\/uploads\/2021\/04\/image1-768x545.png 768w, https:\/\/codefresh.io\/wp-content\/uploads\/2021\/04\/image1-20x14.png 20w, https:\/\/codefresh.io\/wp-content\/uploads\/2021\/04\/image1.png 840w\" sizes=\"(max-width: 300px) 100vw, 300px\" \/><\/a><figcaption id=\"caption-attachment-19062\" class=\"wp-caption-text\">ArgoCD state<\/figcaption><\/figure>\n<p>This should be enough to trigger our pipeline in Codefresh!<\/p>\n<h2>Be Happy!<\/h2>\n<p>Now go check the output from your awesome new pipeline, which was just triggered by a failed sync event in Argo CD!<\/p>\n<figure id=\"attachment_19063\" aria-describedby=\"caption-attachment-19063\" style=\"width: 1024px\" class=\"wp-caption aligncenter\"><a href=\"https:\/\/codefresh.io\/wp-content\/uploads\/2021\/04\/image5-1.png\"><img class=\"wp-image-19063 size-large\" src=\"https:\/\/codefresh.io\/wp-content\/uploads\/2021\/04\/image5-1-1024x353.png\" alt=\"freestyle-step\" width=\"1024\" height=\"353\" srcset=\"https:\/\/codefresh.io\/wp-content\/uploads\/2021\/04\/image5-1-1024x353.png 1024w, https:\/\/codefresh.io\/wp-content\/uploads\/2021\/04\/image5-1-300x103.png 300w, https:\/\/codefresh.io\/wp-content\/uploads\/2021\/04\/image5-1-768x265.png 768w, https:\/\/codefresh.io\/wp-content\/uploads\/2021\/04\/image5-1-1536x529.png 1536w, https:\/\/codefresh.io\/wp-content\/uploads\/2021\/04\/image5-1-20x7.png 20w, https:\/\/codefresh.io\/wp-content\/uploads\/2021\/04\/image5-1.png 1608w\" sizes=\"(max-width: 1024px) 100vw, 1024px\" \/><\/a><figcaption id=\"caption-attachment-19063\" class=\"wp-caption-text\">Freestyle step<\/figcaption><\/figure>\n<p>Wow, that looks great. Look at all the rich Argo CD sync information that our pipeline can now access as variables &#8211; totally worth the setup effort. And I\u2019m sure Brandon would agree!<\/p>\n<input class=\"fooboxshare_post_id\" type=\"hidden\" value=\"19059\"\/>","protected":false},"excerpt":{"rendered":"<p>Codefresh is an awesome platform for doing GitOps deployments to Kubernetes. Starting last year, the Codefresh team has been adding rich integrations with Argo CD and Argo Rollouts, GitOps observability dashboards, and more. Codefresh pipelines, in particular, have played an integral role in our customers\u2019 progressive delivery workflows by allowing them to orchestrate all of &hellip; <a href=\"https:\/\/codefresh.io\/continuous-integration\/trigger-codefresh-pipeline-argocd\/\">Read more<\/a><\/p>\n","protected":false},"author":93,"featured_media":19066,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":[],"categories":[5703,1543,1538,6],"tags":[53,980,4322,5507,5515,5688,5693,5694,5695,5696],"yoast_head":"<!-- This site is optimized with the Yoast SEO Premium plugin v17.9 (Yoast SEO v18.4.1) - https:\/\/yoast.com\/wordpress\/plugins\/seo\/ -->\n<title>Trigger a Codefresh Pipeline from Argo CD | Codefresh<\/title>\n<meta name=\"robots\" content=\"index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1\" \/>\n<link rel=\"canonical\" href=\"https:\/\/codefresh.io\/continuous-integration\/trigger-codefresh-pipeline-argocd\/\" \/>\n<meta property=\"og:locale\" content=\"en_US\" \/>\n<meta property=\"og:type\" content=\"article\" \/>\n<meta property=\"og:title\" content=\"Trigger a Codefresh Pipeline from Argo CD\" \/>\n<meta property=\"og:description\" content=\"Codefresh is an awesome platform for doing GitOps deployments to Kubernetes. Starting last year, the Codefresh team has been adding rich integrations with Argo CD and Argo Rollouts, GitOps observability dashboards, and more. Codefresh pipelines, in particular, have played an integral role in our customers\u2019 progressive delivery workflows by allowing them to orchestrate all of &hellip; Read more\" \/>\n<meta property=\"og:url\" content=\"https:\/\/codefresh.io\/continuous-integration\/trigger-codefresh-pipeline-argocd\/\" \/>\n<meta property=\"og:site_name\" content=\"Codefresh\" \/>\n<meta property=\"article:publisher\" content=\"https:\/\/www.facebook.com\/codefresh.io\" \/>\n<meta property=\"article:published_time\" content=\"2021-04-21T16:34:58+00:00\" \/>\n<meta property=\"article:modified_time\" content=\"2022-03-01T17:04:21+00:00\" \/>\n<meta property=\"og:image\" content=\"https:\/\/codefresh.io\/wp-content\/uploads\/2021\/04\/image4-1.png\" \/>\n\t<meta property=\"og:image:width\" content=\"1250\" \/>\n\t<meta property=\"og:image:height\" content=\"512\" \/>\n\t<meta property=\"og:image:type\" content=\"image\/png\" \/>\n<meta name=\"twitter:card\" content=\"summary_large_image\" \/>\n<meta name=\"twitter:creator\" content=\"@codefresh\" \/>\n<meta name=\"twitter:site\" content=\"@codefresh\" \/>\n<meta name=\"twitter:label1\" content=\"Written by\" \/>\n\t<meta name=\"twitter:data1\" content=\"Ted Spinks\" \/>\n\t<meta name=\"twitter:label2\" content=\"Est. reading time\" \/>\n\t<meta name=\"twitter:data2\" content=\"7 minutes\" \/>\n<script type=\"application\/ld+json\" class=\"yoast-schema-graph\">{\"@context\":\"https:\/\/schema.org\",\"@graph\":[{\"@type\":\"Organization\",\"@id\":\"https:\/\/codefresh.io\/#organization\",\"name\":\"Codefresh\",\"url\":\"https:\/\/codefresh.io\/\",\"sameAs\":[\"https:\/\/www.facebook.com\/codefresh.io\",\"https:\/\/www.linkedin.com\/company\/codefresh\",\"https:\/\/www.youtube.com\/channel\/UC9r94SY6BqN05kXPIHsDXPg\",\"https:\/\/twitter.com\/codefresh\"],\"logo\":{\"@type\":\"ImageObject\",\"@id\":\"https:\/\/codefresh.io\/#logo\",\"inLanguage\":\"en-US\",\"url\":\"https:\/\/codefresh.io\/wp-content\/uploads\/2022\/02\/Codefresh_Logo_Vertical_LightBkgd.png\",\"contentUrl\":\"https:\/\/codefresh.io\/wp-content\/uploads\/2022\/02\/Codefresh_Logo_Vertical_LightBkgd.png\",\"width\":800,\"height\":800,\"caption\":\"Codefresh\"},\"image\":{\"@id\":\"https:\/\/codefresh.io\/#logo\"}},{\"@type\":\"WebSite\",\"@id\":\"https:\/\/codefresh.io\/#website\",\"url\":\"https:\/\/codefresh.io\/\",\"name\":\"Codefresh\",\"description\":\"\",\"publisher\":{\"@id\":\"https:\/\/codefresh.io\/#organization\"},\"potentialAction\":[{\"@type\":\"SearchAction\",\"target\":{\"@type\":\"EntryPoint\",\"urlTemplate\":\"https:\/\/codefresh.io\/?s={search_term_string}\"},\"query-input\":\"required name=search_term_string\"}],\"inLanguage\":\"en-US\"},{\"@type\":\"ImageObject\",\"@id\":\"https:\/\/codefresh.io\/continuous-integration\/trigger-codefresh-pipeline-argocd\/#primaryimage\",\"inLanguage\":\"en-US\",\"url\":\"https:\/\/codefresh.io\/wp-content\/uploads\/2021\/04\/image4-1.png\",\"contentUrl\":\"https:\/\/codefresh.io\/wp-content\/uploads\/2021\/04\/image4-1.png\",\"width\":1250,\"height\":512,\"caption\":\"argocd-header\"},{\"@type\":\"WebPage\",\"@id\":\"https:\/\/codefresh.io\/continuous-integration\/trigger-codefresh-pipeline-argocd\/#webpage\",\"url\":\"https:\/\/codefresh.io\/continuous-integration\/trigger-codefresh-pipeline-argocd\/\",\"name\":\"Trigger a Codefresh Pipeline from Argo CD | Codefresh\",\"isPartOf\":{\"@id\":\"https:\/\/codefresh.io\/#website\"},\"primaryImageOfPage\":{\"@id\":\"https:\/\/codefresh.io\/continuous-integration\/trigger-codefresh-pipeline-argocd\/#primaryimage\"},\"datePublished\":\"2021-04-21T16:34:58+00:00\",\"dateModified\":\"2022-03-01T17:04:21+00:00\",\"breadcrumb\":{\"@id\":\"https:\/\/codefresh.io\/continuous-integration\/trigger-codefresh-pipeline-argocd\/#breadcrumb\"},\"inLanguage\":\"en-US\",\"potentialAction\":[{\"@type\":\"ReadAction\",\"target\":[\"https:\/\/codefresh.io\/continuous-integration\/trigger-codefresh-pipeline-argocd\/\"]}]},{\"@type\":\"BreadcrumbList\",\"@id\":\"https:\/\/codefresh.io\/continuous-integration\/trigger-codefresh-pipeline-argocd\/#breadcrumb\",\"itemListElement\":[{\"@type\":\"ListItem\",\"position\":1,\"name\":\"Home\",\"item\":\"https:\/\/codefresh.io\/\"},{\"@type\":\"ListItem\",\"position\":2,\"name\":\"Trigger a Codefresh Pipeline from Argo CD\"}]},{\"@type\":\"Article\",\"@id\":\"https:\/\/codefresh.io\/continuous-integration\/trigger-codefresh-pipeline-argocd\/#article\",\"isPartOf\":{\"@id\":\"https:\/\/codefresh.io\/continuous-integration\/trigger-codefresh-pipeline-argocd\/#webpage\"},\"author\":{\"@id\":\"https:\/\/codefresh.io\/#\/schema\/person\/ae174f0651c1ef30c23e7209de3a9968\"},\"headline\":\"Trigger a Codefresh Pipeline from Argo CD\",\"datePublished\":\"2021-04-21T16:34:58+00:00\",\"dateModified\":\"2022-03-01T17:04:21+00:00\",\"mainEntityOfPage\":{\"@id\":\"https:\/\/codefresh.io\/continuous-integration\/trigger-codefresh-pipeline-argocd\/#webpage\"},\"wordCount\":1025,\"commentCount\":1,\"publisher\":{\"@id\":\"https:\/\/codefresh.io\/#organization\"},\"image\":{\"@id\":\"https:\/\/codefresh.io\/continuous-integration\/trigger-codefresh-pipeline-argocd\/#primaryimage\"},\"thumbnailUrl\":\"https:\/\/codefresh.io\/wp-content\/uploads\/2021\/04\/image4-1.png\",\"keywords\":[\"CI\/CD\",\"continuous deployment\",\"GitOps\",\"ArgoCD\",\"tutorial\",\"cicd pipeline\",\"notifications\",\"pipeline notifications\",\"example pipeline\",\"automatic trigger\"],\"articleSection\":[\"GitOps\",\"Continuous Integration\",\"DevOps Tutorials\",\"How Tos\"],\"inLanguage\":\"en-US\",\"potentialAction\":[{\"@type\":\"CommentAction\",\"name\":\"Comment\",\"target\":[\"https:\/\/codefresh.io\/continuous-integration\/trigger-codefresh-pipeline-argocd\/#respond\"]}]},{\"@type\":\"Person\",\"@id\":\"https:\/\/codefresh.io\/#\/schema\/person\/ae174f0651c1ef30c23e7209de3a9968\",\"name\":\"Ted Spinks\",\"image\":{\"@type\":\"ImageObject\",\"@id\":\"https:\/\/codefresh.io\/#personlogo\",\"inLanguage\":\"en-US\",\"url\":\"https:\/\/secure.gravatar.com\/avatar\/702f043f00b77f71ae58a18b11daaef3?s=96&d=blank&r=g\",\"contentUrl\":\"https:\/\/secure.gravatar.com\/avatar\/702f043f00b77f71ae58a18b11daaef3?s=96&d=blank&r=g\",\"caption\":\"Ted Spinks\"},\"description\":\"Ted Spinks is a Senior Solutions Architect at Codefresh. He is huge fan of DevOps automation. He loves writing code, diving into new APIs, and solving automation challenges. Before Codefresh, Ted worked as a CI\/CD engineer for an autonomous driving software company, Zenuity, and as a consultant at AHEAD and VMware.\",\"url\":\"https:\/\/codefresh.io\/author\/ted-spinks\/\"}]}<\/script>\n<!-- \/ Yoast SEO Premium plugin. -->","yoast_head_json":{"title":"Trigger a Codefresh Pipeline from Argo CD | Codefresh","robots":{"index":"index","follow":"follow","max-snippet":"max-snippet:-1","max-image-preview":"max-image-preview:large","max-video-preview":"max-video-preview:-1"},"canonical":"https:\/\/codefresh.io\/continuous-integration\/trigger-codefresh-pipeline-argocd\/","og_locale":"en_US","og_type":"article","og_title":"Trigger a Codefresh Pipeline from Argo CD","og_description":"Codefresh is an awesome platform for doing GitOps deployments to Kubernetes. Starting last year, the Codefresh team has been adding rich integrations with Argo CD and Argo Rollouts, GitOps observability dashboards, and more. Codefresh pipelines, in particular, have played an integral role in our customers\u2019 progressive delivery workflows by allowing them to orchestrate all of &hellip; Read more","og_url":"https:\/\/codefresh.io\/continuous-integration\/trigger-codefresh-pipeline-argocd\/","og_site_name":"Codefresh","article_publisher":"https:\/\/www.facebook.com\/codefresh.io","article_published_time":"2021-04-21T16:34:58+00:00","article_modified_time":"2022-03-01T17:04:21+00:00","og_image":[{"width":1250,"height":512,"url":"https:\/\/codefresh.io\/wp-content\/uploads\/2021\/04\/image4-1.png","type":"image\/png"}],"twitter_card":"summary_large_image","twitter_creator":"@codefresh","twitter_site":"@codefresh","twitter_misc":{"Written by":"Ted Spinks","Est. reading time":"7 minutes"},"schema":{"@context":"https:\/\/schema.org","@graph":[{"@type":"Organization","@id":"https:\/\/codefresh.io\/#organization","name":"Codefresh","url":"https:\/\/codefresh.io\/","sameAs":["https:\/\/www.facebook.com\/codefresh.io","https:\/\/www.linkedin.com\/company\/codefresh","https:\/\/www.youtube.com\/channel\/UC9r94SY6BqN05kXPIHsDXPg","https:\/\/twitter.com\/codefresh"],"logo":{"@type":"ImageObject","@id":"https:\/\/codefresh.io\/#logo","inLanguage":"en-US","url":"https:\/\/codefresh.io\/wp-content\/uploads\/2022\/02\/Codefresh_Logo_Vertical_LightBkgd.png","contentUrl":"https:\/\/codefresh.io\/wp-content\/uploads\/2022\/02\/Codefresh_Logo_Vertical_LightBkgd.png","width":800,"height":800,"caption":"Codefresh"},"image":{"@id":"https:\/\/codefresh.io\/#logo"}},{"@type":"WebSite","@id":"https:\/\/codefresh.io\/#website","url":"https:\/\/codefresh.io\/","name":"Codefresh","description":"","publisher":{"@id":"https:\/\/codefresh.io\/#organization"},"potentialAction":[{"@type":"SearchAction","target":{"@type":"EntryPoint","urlTemplate":"https:\/\/codefresh.io\/?s={search_term_string}"},"query-input":"required name=search_term_string"}],"inLanguage":"en-US"},{"@type":"ImageObject","@id":"https:\/\/codefresh.io\/continuous-integration\/trigger-codefresh-pipeline-argocd\/#primaryimage","inLanguage":"en-US","url":"https:\/\/codefresh.io\/wp-content\/uploads\/2021\/04\/image4-1.png","contentUrl":"https:\/\/codefresh.io\/wp-content\/uploads\/2021\/04\/image4-1.png","width":1250,"height":512,"caption":"argocd-header"},{"@type":"WebPage","@id":"https:\/\/codefresh.io\/continuous-integration\/trigger-codefresh-pipeline-argocd\/#webpage","url":"https:\/\/codefresh.io\/continuous-integration\/trigger-codefresh-pipeline-argocd\/","name":"Trigger a Codefresh Pipeline from Argo CD | Codefresh","isPartOf":{"@id":"https:\/\/codefresh.io\/#website"},"primaryImageOfPage":{"@id":"https:\/\/codefresh.io\/continuous-integration\/trigger-codefresh-pipeline-argocd\/#primaryimage"},"datePublished":"2021-04-21T16:34:58+00:00","dateModified":"2022-03-01T17:04:21+00:00","breadcrumb":{"@id":"https:\/\/codefresh.io\/continuous-integration\/trigger-codefresh-pipeline-argocd\/#breadcrumb"},"inLanguage":"en-US","potentialAction":[{"@type":"ReadAction","target":["https:\/\/codefresh.io\/continuous-integration\/trigger-codefresh-pipeline-argocd\/"]}]},{"@type":"BreadcrumbList","@id":"https:\/\/codefresh.io\/continuous-integration\/trigger-codefresh-pipeline-argocd\/#breadcrumb","itemListElement":[{"@type":"ListItem","position":1,"name":"Home","item":"https:\/\/codefresh.io\/"},{"@type":"ListItem","position":2,"name":"Trigger a Codefresh Pipeline from Argo CD"}]},{"@type":"Article","@id":"https:\/\/codefresh.io\/continuous-integration\/trigger-codefresh-pipeline-argocd\/#article","isPartOf":{"@id":"https:\/\/codefresh.io\/continuous-integration\/trigger-codefresh-pipeline-argocd\/#webpage"},"author":{"@id":"https:\/\/codefresh.io\/#\/schema\/person\/ae174f0651c1ef30c23e7209de3a9968"},"headline":"Trigger a Codefresh Pipeline from Argo CD","datePublished":"2021-04-21T16:34:58+00:00","dateModified":"2022-03-01T17:04:21+00:00","mainEntityOfPage":{"@id":"https:\/\/codefresh.io\/continuous-integration\/trigger-codefresh-pipeline-argocd\/#webpage"},"wordCount":1025,"commentCount":1,"publisher":{"@id":"https:\/\/codefresh.io\/#organization"},"image":{"@id":"https:\/\/codefresh.io\/continuous-integration\/trigger-codefresh-pipeline-argocd\/#primaryimage"},"thumbnailUrl":"https:\/\/codefresh.io\/wp-content\/uploads\/2021\/04\/image4-1.png","keywords":["CI\/CD","continuous deployment","GitOps","ArgoCD","tutorial","cicd pipeline","notifications","pipeline notifications","example pipeline","automatic trigger"],"articleSection":["GitOps","Continuous Integration","DevOps Tutorials","How Tos"],"inLanguage":"en-US","potentialAction":[{"@type":"CommentAction","name":"Comment","target":["https:\/\/codefresh.io\/continuous-integration\/trigger-codefresh-pipeline-argocd\/#respond"]}]},{"@type":"Person","@id":"https:\/\/codefresh.io\/#\/schema\/person\/ae174f0651c1ef30c23e7209de3a9968","name":"Ted Spinks","image":{"@type":"ImageObject","@id":"https:\/\/codefresh.io\/#personlogo","inLanguage":"en-US","url":"https:\/\/secure.gravatar.com\/avatar\/702f043f00b77f71ae58a18b11daaef3?s=96&d=blank&r=g","contentUrl":"https:\/\/secure.gravatar.com\/avatar\/702f043f00b77f71ae58a18b11daaef3?s=96&d=blank&r=g","caption":"Ted Spinks"},"description":"Ted Spinks is a Senior Solutions Architect at Codefresh. He is huge fan of DevOps automation. He loves writing code, diving into new APIs, and solving automation challenges. Before Codefresh, Ted worked as a CI\/CD engineer for an autonomous driving software company, Zenuity, and as a consultant at AHEAD and VMware.","url":"https:\/\/codefresh.io\/author\/ted-spinks\/"}]}},"acf":[],"_links":{"self":[{"href":"https:\/\/codefresh.io\/wp-json\/wp\/v2\/posts\/19059"}],"collection":[{"href":"https:\/\/codefresh.io\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/codefresh.io\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/codefresh.io\/wp-json\/wp\/v2\/users\/93"}],"replies":[{"embeddable":true,"href":"https:\/\/codefresh.io\/wp-json\/wp\/v2\/comments?post=19059"}],"version-history":[{"count":1,"href":"https:\/\/codefresh.io\/wp-json\/wp\/v2\/posts\/19059\/revisions"}],"predecessor-version":[{"id":21727,"href":"https:\/\/codefresh.io\/wp-json\/wp\/v2\/posts\/19059\/revisions\/21727"}],"wp:featuredmedia":[{"embeddable":true,"href":"https:\/\/codefresh.io\/wp-json\/wp\/v2\/media\/19066"}],"wp:attachment":[{"href":"https:\/\/codefresh.io\/wp-json\/wp\/v2\/media?parent=19059"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/codefresh.io\/wp-json\/wp\/v2\/categories?post=19059"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/codefresh.io\/wp-json\/wp\/v2\/tags?post=19059"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}