{"id":19195,"date":"2021-05-06T09:55:43","date_gmt":"2021-05-06T17:55:43","guid":{"rendered":"https:\/\/codefresh.io\/?p=19195"},"modified":"2021-06-14T04:14:26","modified_gmt":"2021-06-14T12:14:26","slug":"amazon-bottlerocket","status":"publish","type":"post","link":"https:\/\/codefresh.io\/codefresh-news\/amazon-bottlerocket\/","title":{"rendered":"Run Codefresh pipelines on a Bottlerocket Kubernetes cluster"},"content":{"rendered":"<p>In August 2020, Amazon announced <a href=\"https:\/\/aws.amazon.com\/bottlerocket\/\">Bottlerocket OS<\/a>, a new open source Linux distribution that is built specifically for running container workloads. It comes out of the box with security hardening and support for transactional updates, allowing for greater ease in automating operating system updates, maintaining security compliance and reducing operational costs. Bottlerocket is designed to be able to run anywhere and, at launch, has a pre-built variant for Amazon EKS.<\/p>\n<p>We are happy to announce that Codefresh now supports <a href=\"http:\/\/www.codefresh.io\/aws\">Bottlerocket on EKS<\/a>!<\/p>\n<p>For those who are unfamiliar, Codefresh is a deployment platform specifically built for containers and Kubernetes. You can use Codefresh to create CI\/CD pipelines that take an application from source code all the way to production. It\u2019s built with speed and scalability in mind so that you can run your builds in a fraction of the time. This is incredibly important today as the speed with which you\u2019re able to release new features, capabilities and even hot-fixes to your customers, can directly affect the success of your business.<\/p>\n<p>In this post we\u2019ll show you how to address that need for speed and scale, leveraging Codefresh runners on EKS using Bottlerocket.<\/p>\n<p>Before we dive into the how-to, let\u2019s review some of the key Codefresh concepts.<\/p>\n<p>The central component of the Codefresh Platform are pipelines. Pipelines are workflows composed from individual steps that take care of the whole software lifecycle (code compilation, packaging, container builds, security scans etc). They are container based, meaning that each step in the pipeline is an individual container that is launched on demand on the build node, once it is needed. This makes the maintenance of build nodes very simple in Codefresh, as there is nothing to install or upgrade (apart from the container runtime). Gone are the days when you had to maintain specific build tools on each build node and also had to battle with plugins and their dependencies.<\/p>\n<p>The Codefresh runner is a standard Kubernetes application that converts any Kubernetes cluster, including those running in Amazon EKS, into a Codefresh runtime environment for your pipelines. It is managed and monitored like any other Kubernetes applications, meaning that you can reuse your Kubernetes expertise and knowledge to maintain it. If for example there is auto-scaling enabled in your Kubernetes cluster, then the Codefresh runner will gain autoscaling as well without any extra configuration.<\/p>\n<p>The instructions below will walk you through the process of creating an EKS cluster using Bottlerocket nodes and installing the Codefresh Runner on it. This will allow us to then run Codefresh Pipelines on that cluster.<\/p>\n<p>Let\u2019s get started&#8230;<\/p>\n<h2>Prerequisites<\/h2>\n<p>To use Bottlerocket in Codefresh you need:<\/p>\n<ol>\n<li>A <a href=\"https:\/\/codefresh.io\/docs\/docs\/getting-started\/create-a-codefresh-account\/\">Codefresh account<\/a>. You can use Bottlerocket in any tier (even the free one)<\/li>\n<li>An <a href=\"https:\/\/aws.amazon.com\/premiumsupport\/knowledge-center\/create-and-activate-aws-account\/\">AWS account<\/a>. Note that depending on the resources you create, your account will be billed, so make sure that you cleanup the resources you don\u2019t need.<\/li>\n<\/ol>\n<p>You also need the following CLIs:<\/p>\n<ul>\n<li>the <a href=\"https:\/\/aws.amazon.com\/cli\/\">aws CLI<\/a> for accessing your AWS account from the command line<\/li>\n<li><a href=\"https:\/\/docs.aws.amazon.com\/eks\/latest\/userguide\/getting-started-eksctl.html\">eksctl <\/a>for creating\/managing your Kubernetes cluster.<\/li>\n<li>the <a href=\"https:\/\/codefresh-io.github.io\/cli\/installation\/\">Codefresh cli<\/a> for installing the runner in the cluster.<\/li>\n<li><a href=\"https:\/\/kubernetes.io\/docs\/tasks\/tools\/install-kubectl\/\">kubectl <\/a>for working with Kubernetes applications<\/li>\n<\/ul>\n<h2>Creating a Kubernetes cluster in AWS using Bottlerocket nodes<\/h2>\n<p>You can see a Bottlerocket-based cluster configuration in the <a href=\"https:\/\/github.com\/bottlerocket-os\/bottlerocket\/blob\/develop\/sample-eksctl.yaml\">example eksctl config<\/a>. The key point here is that it requires both the amiFamily and specific IAM Policies to allow the cluster nodes to function properly using Bottlerocket. In addition to that, we\u2019ll add the specific config to enable the node group to leverage AWS Spot Instance.<\/p>\n<p>1) Create an <a href=\"https:\/\/eksctl.io\/usage\/creating-and-managing-clusters\/\">eksctl config file<\/a>, and set the amiFamily to Bottlerocket in your node group. This tells eksctl to use the Bottlerocket EKS AMI for the nodes in the group.<\/p>\n<pre>    amiFamily: Bottlerocket\n<\/pre>\n<p>2) Ensure that you have the required IAM policies specified for the Bottlerocket nodes.<\/p>\n<pre>     iam:\n        attachPolicyARNs:\n         - arn:aws:iam::aws:policy\/AmazonEKSWorkerNodePolicy\n         - arn:aws:iam::aws:policy\/AmazonEKS_CNI_Policy\n         - arn:aws:iam::aws:policy\/AmazonEC2ContainerRegistryReadOnly\n         - arn:aws:iam::aws:policy\/AmazonSSMManagedInstanceCore\n<\/pre>\n<p>3) Add your Spot Fleet configuration to your node group.<\/p>\n<pre>    instancesDistribution:\n      maxPrice: 0.017\n      instanceTypes: [\"t3.small\", \"t3.medium\"] # At least two instance types should be specified\n      onDemandBaseCapacity: 0\n      onDemandPercentageAboveBaseCapacity: 50\n      spotInstancePools: 2\n<\/pre>\n<p>In this configuration we\u2019re using a combination of 50% On-Demand and Spot instances, two sizes of T3 instances and a maximum price of $0.017 USD per hour. You can learn more about these configuration options <a href=\"https:\/\/eksctl.io\/usage\/spot-instances\/\">here<\/a>.<\/p>\n<p>4) Your config file should look like this:<\/p>\n<pre>apiVersion: eksctl.io\/v1alpha5\nkind: ClusterConfig\nmetadata:\n  name: sales-dev-eks-bottlerocket\n  region: us-west-2\nvpc:\n  id: vpc-02c5dbe54afc8ed28\n  subnets:\n    private:\n      us-west-2a:\n          id: \"subnet-0bde2b07890685c46\"\n      us-west-2b:\n          id: \"subnet-0b1d9a2612885d5de\"\n      us-west-2c:\n          id: \"subnet-0c69908965e7a2dd7\"\n    public:\n      us-west-2a:\n          id: \"subnet-07ce9945741de1d4d\"\n      us-west-2b:\n          id: \"subnet-0109e5fe671a1290c\"\n      us-west-2c:\n          id: \"subnet-0226033eab8e4f954\"\nnodeGroups:\n  - name: ng-bottlerocket\n    instanceType: m5.large\n    desiredCapacity: 1\n    privateNetworking: true\n    amiFamily: Bottlerocket\n    iam:\n        attachPolicyARNs:\n         - arn:aws:iam::aws:policy\/AmazonEKSWorkerNodePolicy\n         - arn:aws:iam::aws:policy\/AmazonEKS_CNI_Policy\n         - arn:aws:iam::aws:policy\/AmazonEC2ContainerRegistryReadOnly\n         - arn:aws:iam::aws:policy\/AmazonSSMManagedInstanceCore\n    instancesDistribution:\n      maxPrice: 0.017\n      instanceTypes: [\"t3.small\", \"t3.medium\"] # At least two instance types should be specified\n      onDemandBaseCapacity: 0\n      onDemandPercentageAboveBaseCapacity: 50\n      spotInstancePools: 2\n\n<\/pre>\n<p>5) Update the vpc and subnets to match your own configuration and save the above file as eks-cluster.yaml, and create your EKS cluster by running the following command:<\/p>\n<pre>$ eksctl create cluster -f eks-cluster.yaml\n<\/pre>\n<p>6) Before installing the Codefresh Runner on your new EKS cluster, it is a good idea to rename the context of our cluster &#8211; this way the name of the runtime environment that will be created in our Codefresh account will have a more readable name. To do that, you can run the following command with the context name you want (We used sales-dev-eks-bottlerocket for our context name)<\/p>\n<pre>$ kubectl config rename-context  sales-dev-eks-bottlerocket\n<\/pre>\n<h2>Installing the Codefresh Runner in the Bottlerocket based AWS cluster<\/h2>\n<p>Now you can go ahead and install the Codefresh Runner on your EKS cluster.<\/p>\n<ol>\n<li>Install the Codefresh CLI with npm install -g codefresh<\/li>\n<li>setup authentication with codefresh auth create-context &#8211;api-key {API_KEY} (get a key from <a href=\"https:\/\/g.codefresh.io\/user\/settings\">your user settings<\/a>)<\/li>\n<li>and finally run the installation wizard with codefresh runner init.<\/li>\n<\/ol>\n<p>The wizard will ask you if you would like to run a demo pipeline after install, choose \u201cYes\u201d.<\/p>\n<p>If everything went well with the install, you should see a console output that includes details regarding the demo pipeline status, links to documentation and some Codefresh ascii art.<\/p>\n<figure id=\"attachment_19202\" aria-describedby=\"caption-attachment-19202\" style=\"width: 1999px\" class=\"wp-caption alignnone\"><a href=\"https:\/\/codefresh.io\/wp-content\/uploads\/2021\/05\/installer.png\"><img class=\"size-full wp-image-19202\" src=\"https:\/\/codefresh.io\/wp-content\/uploads\/2021\/05\/installer.png\" alt=\"Codefresh Runner installer\" width=\"1999\" height=\"435\" srcset=\"https:\/\/codefresh.io\/wp-content\/uploads\/2021\/05\/installer.png 1999w, https:\/\/codefresh.io\/wp-content\/uploads\/2021\/05\/installer-300x65.png 300w, https:\/\/codefresh.io\/wp-content\/uploads\/2021\/05\/installer-1024x223.png 1024w, https:\/\/codefresh.io\/wp-content\/uploads\/2021\/05\/installer-768x167.png 768w, https:\/\/codefresh.io\/wp-content\/uploads\/2021\/05\/installer-1536x334.png 1536w, https:\/\/codefresh.io\/wp-content\/uploads\/2021\/05\/installer-20x4.png 20w\" sizes=\"(max-width: 1999px) 100vw, 1999px\" \/><\/a><figcaption id=\"caption-attachment-19202\" class=\"wp-caption-text\">Codefresh Runner installer<\/figcaption><\/figure>\n<p>For more details see the <a href=\"https:\/\/codefresh.io\/docs\/docs\/administration\/codefresh-runner\/#installation-with-the-quick-start-wizard\">runner documentation<\/a>.<\/p>\n<p>We now have the Codefresh Runner installed on our EKS cluster!<\/p>\n<p>You should now be able to go back to the Codefresh console and select the \u201cRunner\u201d project that was created during the Runner install. From there you will see the Demo Pipeline that was created and executed.<\/p>\n<figure id=\"attachment_19203\" aria-describedby=\"caption-attachment-19203\" style=\"width: 1276px\" class=\"wp-caption alignnone\"><a href=\"https:\/\/codefresh.io\/wp-content\/uploads\/2021\/05\/runner-demo.png\"><img class=\"size-full wp-image-19203\" src=\"https:\/\/codefresh.io\/wp-content\/uploads\/2021\/05\/runner-demo.png\" alt=\"Runner demo\" width=\"1276\" height=\"490\" srcset=\"https:\/\/codefresh.io\/wp-content\/uploads\/2021\/05\/runner-demo.png 1276w, https:\/\/codefresh.io\/wp-content\/uploads\/2021\/05\/runner-demo-300x115.png 300w, https:\/\/codefresh.io\/wp-content\/uploads\/2021\/05\/runner-demo-1024x393.png 1024w, https:\/\/codefresh.io\/wp-content\/uploads\/2021\/05\/runner-demo-768x295.png 768w, https:\/\/codefresh.io\/wp-content\/uploads\/2021\/05\/runner-demo-20x8.png 20w\" sizes=\"(max-width: 1276px) 100vw, 1276px\" \/><\/a><figcaption id=\"caption-attachment-19203\" class=\"wp-caption-text\">Runner demo<\/figcaption><\/figure>\n<p>From there, you can click on the gear icon for the \u201cCF_Runner_Demo\u201d Pipeline which will open the Pipeline settings console. Clicking the \u201cRuntime\u201d option form the left menu will show you the new runtime environment that was created in <a href=\"https:\/\/codefresh.io\/docs\/docs\/configure-ci-cd-pipeline\/pipelines\/#pipeline-settings\">your pipeline settings<\/a> (see more details <a href=\"https:\/\/codefresh.io\/docs\/docs\/administration\/codefresh-runner\/#using-the-codefresh-runner\">for using the runner<\/a>):<\/p>\n<figure id=\"attachment_19204\" aria-describedby=\"caption-attachment-19204\" style=\"width: 1730px\" class=\"wp-caption alignnone\"><a href=\"https:\/\/codefresh.io\/wp-content\/uploads\/2021\/05\/runtime-environment.png\"><img class=\"size-full wp-image-19204\" src=\"https:\/\/codefresh.io\/wp-content\/uploads\/2021\/05\/runtime-environment.png\" alt=\"Codefresh runtime environment\" width=\"1730\" height=\"1200\" srcset=\"https:\/\/codefresh.io\/wp-content\/uploads\/2021\/05\/runtime-environment.png 1730w, https:\/\/codefresh.io\/wp-content\/uploads\/2021\/05\/runtime-environment-300x208.png 300w, https:\/\/codefresh.io\/wp-content\/uploads\/2021\/05\/runtime-environment-1024x710.png 1024w, https:\/\/codefresh.io\/wp-content\/uploads\/2021\/05\/runtime-environment-768x533.png 768w, https:\/\/codefresh.io\/wp-content\/uploads\/2021\/05\/runtime-environment-1536x1065.png 1536w, https:\/\/codefresh.io\/wp-content\/uploads\/2021\/05\/runtime-environment-20x14.png 20w\" sizes=\"(max-width: 1730px) 100vw, 1730px\" \/><\/a><figcaption id=\"caption-attachment-19204\" class=\"wp-caption-text\">Codefresh runtime environment<\/figcaption><\/figure>\n<p>Going back to the \u201cCF_Runner_Demo\u201d build, you can click into it to see the details and then again to see the \u201ctest\u201d step details as you see below:<\/p>\n<figure id=\"attachment_19205\" aria-describedby=\"caption-attachment-19205\" style=\"width: 1999px\" class=\"wp-caption alignnone\"><a href=\"https:\/\/codefresh.io\/wp-content\/uploads\/2021\/05\/pipeline.png\"><img class=\"size-full wp-image-19205\" src=\"https:\/\/codefresh.io\/wp-content\/uploads\/2021\/05\/pipeline.png\" alt=\"Example pipeline\" width=\"1999\" height=\"1283\" srcset=\"https:\/\/codefresh.io\/wp-content\/uploads\/2021\/05\/pipeline.png 1999w, https:\/\/codefresh.io\/wp-content\/uploads\/2021\/05\/pipeline-300x193.png 300w, https:\/\/codefresh.io\/wp-content\/uploads\/2021\/05\/pipeline-1024x657.png 1024w, https:\/\/codefresh.io\/wp-content\/uploads\/2021\/05\/pipeline-768x493.png 768w, https:\/\/codefresh.io\/wp-content\/uploads\/2021\/05\/pipeline-1536x986.png 1536w, https:\/\/codefresh.io\/wp-content\/uploads\/2021\/05\/pipeline-20x13.png 20w\" sizes=\"(max-width: 1999px) 100vw, 1999px\" \/><\/a><figcaption id=\"caption-attachment-19205\" class=\"wp-caption-text\">Example pipeline<\/figcaption><\/figure>\n<p>That&#8217;s it! Any future builds of your pipeline will run on your Bottlerocket powered EKS cluster. By leveraging this combination of solutions, we&#8217;re not only able to scale quickly to meet the demands of your build pipelines, but do so in a way that simplifies management of the cluster and improves overall security . If you wanted to go a step further, you can also enable the <a href=\"https:\/\/github.com\/kubernetes\/autoscaler\/blob\/master\/cluster-autoscaler\/cloudprovider\/aws\/README.md\">Cluster Autoscaler on AWS<\/a>, which will allow your cluster to automatically add additional cluster hosts in the event that your pipelines need additional capacity.<\/p>\n<p>As an additional note: For those of you who are interested in or already using Codefresh Runners on EKS clusters using Amazon Linux 2 &#8211; this is still supported. You can repeat the installation process on an EKS cluster using Amazon Linux 2 nodes and then run your pipelines on either cluster. In fact you can even mix and match pipelines so that you can use both types of clusters in Codefresh. This allows you to gradually move workloads from one cluster to the next, allowing you to ease the adoption of Bottlerocket-based nodes.<\/p>\n<p>Learn more about Codefresh and AWS at <a href=\"https:\/\/codefresh.io\/aws\">Codefresh.io\/aws<\/a>.<\/p>\n<input class=\"fooboxshare_post_id\" type=\"hidden\" value=\"19195\"\/>","protected":false},"excerpt":{"rendered":"<p>In August 2020, Amazon announced Bottlerocket OS, a new open source Linux distribution that is built specifically for running container workloads. It comes out of the box with security hardening and support for transactional updates, allowing for greater ease in automating operating system updates, maintaining security compliance and reducing operational costs. Bottlerocket is designed to &hellip; <a href=\"https:\/\/codefresh.io\/codefresh-news\/amazon-bottlerocket\/\">Read more<\/a><\/p>\n","protected":false},"author":62,"featured_media":19196,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":[],"categories":[5467,5468,1657,41,1543],"tags":[44,52,53,59,68,409,410,5714],"yoast_head":"<!-- This site is optimized with the Yoast SEO Premium plugin v17.9 (Yoast SEO v18.4.1) - https:\/\/yoast.com\/wordpress\/plugins\/seo\/ -->\n<title>Run Codefresh pipelines on a Bottlerocket Kubernetes cluster | Codefresh<\/title>\n<meta name=\"robots\" content=\"index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1\" \/>\n<link rel=\"canonical\" href=\"https:\/\/aws.amazon.com\/blogs\/apn\/run-codefresh-pipelines-on-amazon-eks-using-bottlerocket-os\/\" \/>\n<meta property=\"og:locale\" content=\"en_US\" \/>\n<meta property=\"og:type\" content=\"article\" \/>\n<meta property=\"og:title\" content=\"Run Codefresh pipelines on a Bottlerocket Kubernetes cluster\" \/>\n<meta property=\"og:description\" content=\"In August 2020, Amazon announced Bottlerocket OS, a new open source Linux distribution that is built specifically for running container workloads. It comes out of the box with security hardening and support for transactional updates, allowing for greater ease in automating operating system updates, maintaining security compliance and reducing operational costs. Bottlerocket is designed to &hellip; Read more\" \/>\n<meta property=\"og:url\" content=\"https:\/\/aws.amazon.com\/blogs\/apn\/run-codefresh-pipelines-on-amazon-eks-using-bottlerocket-os\/\" \/>\n<meta property=\"og:site_name\" content=\"Codefresh\" \/>\n<meta property=\"article:publisher\" content=\"https:\/\/www.facebook.com\/codefresh.io\" \/>\n<meta property=\"article:published_time\" content=\"2021-05-06T17:55:43+00:00\" \/>\n<meta property=\"article:modified_time\" content=\"2021-06-14T12:14:26+00:00\" \/>\n<meta property=\"og:image\" content=\"https:\/\/codefresh.io\/wp-content\/uploads\/2021\/05\/blog-picture.png\" \/>\n\t<meta property=\"og:image:width\" content=\"1600\" \/>\n\t<meta property=\"og:image:height\" content=\"900\" \/>\n\t<meta property=\"og:image:type\" content=\"image\/png\" \/>\n<meta name=\"twitter:card\" content=\"summary_large_image\" \/>\n<meta name=\"twitter:creator\" content=\"@codefresh\" \/>\n<meta name=\"twitter:site\" content=\"@codefresh\" \/>\n<meta name=\"twitter:label1\" content=\"Written by\" \/>\n\t<meta name=\"twitter:data1\" content=\"Kostis Kapelonis\" \/>\n\t<meta name=\"twitter:label2\" content=\"Est. reading time\" \/>\n\t<meta name=\"twitter:data2\" content=\"7 minutes\" \/>\n<script type=\"application\/ld+json\" class=\"yoast-schema-graph\">{\"@context\":\"https:\/\/schema.org\",\"@graph\":[{\"@type\":\"Organization\",\"@id\":\"https:\/\/codefresh.io\/#organization\",\"name\":\"Codefresh\",\"url\":\"https:\/\/codefresh.io\/\",\"sameAs\":[\"https:\/\/www.facebook.com\/codefresh.io\",\"https:\/\/www.linkedin.com\/company\/codefresh\",\"https:\/\/www.youtube.com\/channel\/UC9r94SY6BqN05kXPIHsDXPg\",\"https:\/\/twitter.com\/codefresh\"],\"logo\":{\"@type\":\"ImageObject\",\"@id\":\"https:\/\/codefresh.io\/#logo\",\"inLanguage\":\"en-US\",\"url\":\"https:\/\/codefresh.io\/wp-content\/uploads\/2022\/02\/Codefresh_Logo_Vertical_LightBkgd.png\",\"contentUrl\":\"https:\/\/codefresh.io\/wp-content\/uploads\/2022\/02\/Codefresh_Logo_Vertical_LightBkgd.png\",\"width\":800,\"height\":800,\"caption\":\"Codefresh\"},\"image\":{\"@id\":\"https:\/\/codefresh.io\/#logo\"}},{\"@type\":\"WebSite\",\"@id\":\"https:\/\/codefresh.io\/#website\",\"url\":\"https:\/\/codefresh.io\/\",\"name\":\"Codefresh\",\"description\":\"\",\"publisher\":{\"@id\":\"https:\/\/codefresh.io\/#organization\"},\"potentialAction\":[{\"@type\":\"SearchAction\",\"target\":{\"@type\":\"EntryPoint\",\"urlTemplate\":\"https:\/\/codefresh.io\/?s={search_term_string}\"},\"query-input\":\"required name=search_term_string\"}],\"inLanguage\":\"en-US\"},{\"@type\":\"ImageObject\",\"@id\":\"https:\/\/aws.amazon.com\/blogs\/apn\/run-codefresh-pipelines-on-amazon-eks-using-bottlerocket-os\/#primaryimage\",\"inLanguage\":\"en-US\",\"url\":\"https:\/\/codefresh.io\/wp-content\/uploads\/2021\/05\/blog-picture.png\",\"contentUrl\":\"https:\/\/codefresh.io\/wp-content\/uploads\/2021\/05\/blog-picture.png\",\"width\":1600,\"height\":900},{\"@type\":\"WebPage\",\"@id\":\"https:\/\/aws.amazon.com\/blogs\/apn\/run-codefresh-pipelines-on-amazon-eks-using-bottlerocket-os\/#webpage\",\"url\":\"https:\/\/aws.amazon.com\/blogs\/apn\/run-codefresh-pipelines-on-amazon-eks-using-bottlerocket-os\/\",\"name\":\"Run Codefresh pipelines on a Bottlerocket Kubernetes cluster | Codefresh\",\"isPartOf\":{\"@id\":\"https:\/\/codefresh.io\/#website\"},\"primaryImageOfPage\":{\"@id\":\"https:\/\/aws.amazon.com\/blogs\/apn\/run-codefresh-pipelines-on-amazon-eks-using-bottlerocket-os\/#primaryimage\"},\"datePublished\":\"2021-05-06T17:55:43+00:00\",\"dateModified\":\"2021-06-14T12:14:26+00:00\",\"breadcrumb\":{\"@id\":\"https:\/\/aws.amazon.com\/blogs\/apn\/run-codefresh-pipelines-on-amazon-eks-using-bottlerocket-os\/#breadcrumb\"},\"inLanguage\":\"en-US\",\"potentialAction\":[{\"@type\":\"ReadAction\",\"target\":[\"https:\/\/aws.amazon.com\/blogs\/apn\/run-codefresh-pipelines-on-amazon-eks-using-bottlerocket-os\/\"]}]},{\"@type\":\"BreadcrumbList\",\"@id\":\"https:\/\/aws.amazon.com\/blogs\/apn\/run-codefresh-pipelines-on-amazon-eks-using-bottlerocket-os\/#breadcrumb\",\"itemListElement\":[{\"@type\":\"ListItem\",\"position\":1,\"name\":\"Home\",\"item\":\"https:\/\/codefresh.io\/\"},{\"@type\":\"ListItem\",\"position\":2,\"name\":\"Run Codefresh pipelines on a Bottlerocket Kubernetes cluster\"}]},{\"@type\":\"Article\",\"@id\":\"https:\/\/aws.amazon.com\/blogs\/apn\/run-codefresh-pipelines-on-amazon-eks-using-bottlerocket-os\/#article\",\"isPartOf\":{\"@id\":\"https:\/\/aws.amazon.com\/blogs\/apn\/run-codefresh-pipelines-on-amazon-eks-using-bottlerocket-os\/#webpage\"},\"author\":{\"@id\":\"https:\/\/codefresh.io\/#\/schema\/person\/b2f763eca5adecaee359ad3170055d87\"},\"headline\":\"Run Codefresh pipelines on a Bottlerocket Kubernetes cluster\",\"datePublished\":\"2021-05-06T17:55:43+00:00\",\"dateModified\":\"2021-06-14T12:14:26+00:00\",\"mainEntityOfPage\":{\"@id\":\"https:\/\/aws.amazon.com\/blogs\/apn\/run-codefresh-pipelines-on-amazon-eks-using-bottlerocket-os\/#webpage\"},\"wordCount\":1260,\"commentCount\":0,\"publisher\":{\"@id\":\"https:\/\/codefresh.io\/#organization\"},\"image\":{\"@id\":\"https:\/\/aws.amazon.com\/blogs\/apn\/run-codefresh-pipelines-on-amazon-eks-using-bottlerocket-os\/#primaryimage\"},\"thumbnailUrl\":\"https:\/\/codefresh.io\/wp-content\/uploads\/2021\/05\/blog-picture.png\",\"keywords\":[\"Kubernetes\",\"devops\",\"CI\/CD\",\"codefresh\",\"continuous delivery\",\"aws\",\"amazon\",\"bottlerocket\"],\"articleSection\":[\"Devops\",\"Kubecon\",\"Kubernetes Tutorials\",\"Codefresh News\",\"Continuous Integration\"],\"inLanguage\":\"en-US\",\"potentialAction\":[{\"@type\":\"CommentAction\",\"name\":\"Comment\",\"target\":[\"https:\/\/aws.amazon.com\/blogs\/apn\/run-codefresh-pipelines-on-amazon-eks-using-bottlerocket-os\/#respond\"]}]},{\"@type\":\"Person\",\"@id\":\"https:\/\/codefresh.io\/#\/schema\/person\/b2f763eca5adecaee359ad3170055d87\",\"name\":\"Kostis Kapelonis\",\"image\":{\"@type\":\"ImageObject\",\"@id\":\"https:\/\/codefresh.io\/#personlogo\",\"inLanguage\":\"en-US\",\"url\":\"https:\/\/codefresh.io\/wp-content\/uploads\/2022\/03\/branded-96x96.png\",\"contentUrl\":\"https:\/\/codefresh.io\/wp-content\/uploads\/2022\/03\/branded-96x96.png\",\"caption\":\"Kostis Kapelonis\"},\"description\":\"Kostis is a software engineer\/technical-writer dual class character. He lives and breathes automation, good testing practices and stress-free deployments with GitOps.\",\"url\":\"https:\/\/codefresh.io\/author\/kostiscodefresh-io\/\"}]}<\/script>\n<!-- \/ Yoast SEO Premium plugin. -->","yoast_head_json":{"title":"Run Codefresh pipelines on a Bottlerocket Kubernetes cluster | Codefresh","robots":{"index":"index","follow":"follow","max-snippet":"max-snippet:-1","max-image-preview":"max-image-preview:large","max-video-preview":"max-video-preview:-1"},"canonical":"https:\/\/aws.amazon.com\/blogs\/apn\/run-codefresh-pipelines-on-amazon-eks-using-bottlerocket-os\/","og_locale":"en_US","og_type":"article","og_title":"Run Codefresh pipelines on a Bottlerocket Kubernetes cluster","og_description":"In August 2020, Amazon announced Bottlerocket OS, a new open source Linux distribution that is built specifically for running container workloads. It comes out of the box with security hardening and support for transactional updates, allowing for greater ease in automating operating system updates, maintaining security compliance and reducing operational costs. Bottlerocket is designed to &hellip; Read more","og_url":"https:\/\/aws.amazon.com\/blogs\/apn\/run-codefresh-pipelines-on-amazon-eks-using-bottlerocket-os\/","og_site_name":"Codefresh","article_publisher":"https:\/\/www.facebook.com\/codefresh.io","article_published_time":"2021-05-06T17:55:43+00:00","article_modified_time":"2021-06-14T12:14:26+00:00","og_image":[{"width":1600,"height":900,"url":"https:\/\/codefresh.io\/wp-content\/uploads\/2021\/05\/blog-picture.png","type":"image\/png"}],"twitter_card":"summary_large_image","twitter_creator":"@codefresh","twitter_site":"@codefresh","twitter_misc":{"Written by":"Kostis Kapelonis","Est. reading time":"7 minutes"},"schema":{"@context":"https:\/\/schema.org","@graph":[{"@type":"Organization","@id":"https:\/\/codefresh.io\/#organization","name":"Codefresh","url":"https:\/\/codefresh.io\/","sameAs":["https:\/\/www.facebook.com\/codefresh.io","https:\/\/www.linkedin.com\/company\/codefresh","https:\/\/www.youtube.com\/channel\/UC9r94SY6BqN05kXPIHsDXPg","https:\/\/twitter.com\/codefresh"],"logo":{"@type":"ImageObject","@id":"https:\/\/codefresh.io\/#logo","inLanguage":"en-US","url":"https:\/\/codefresh.io\/wp-content\/uploads\/2022\/02\/Codefresh_Logo_Vertical_LightBkgd.png","contentUrl":"https:\/\/codefresh.io\/wp-content\/uploads\/2022\/02\/Codefresh_Logo_Vertical_LightBkgd.png","width":800,"height":800,"caption":"Codefresh"},"image":{"@id":"https:\/\/codefresh.io\/#logo"}},{"@type":"WebSite","@id":"https:\/\/codefresh.io\/#website","url":"https:\/\/codefresh.io\/","name":"Codefresh","description":"","publisher":{"@id":"https:\/\/codefresh.io\/#organization"},"potentialAction":[{"@type":"SearchAction","target":{"@type":"EntryPoint","urlTemplate":"https:\/\/codefresh.io\/?s={search_term_string}"},"query-input":"required name=search_term_string"}],"inLanguage":"en-US"},{"@type":"ImageObject","@id":"https:\/\/aws.amazon.com\/blogs\/apn\/run-codefresh-pipelines-on-amazon-eks-using-bottlerocket-os\/#primaryimage","inLanguage":"en-US","url":"https:\/\/codefresh.io\/wp-content\/uploads\/2021\/05\/blog-picture.png","contentUrl":"https:\/\/codefresh.io\/wp-content\/uploads\/2021\/05\/blog-picture.png","width":1600,"height":900},{"@type":"WebPage","@id":"https:\/\/aws.amazon.com\/blogs\/apn\/run-codefresh-pipelines-on-amazon-eks-using-bottlerocket-os\/#webpage","url":"https:\/\/aws.amazon.com\/blogs\/apn\/run-codefresh-pipelines-on-amazon-eks-using-bottlerocket-os\/","name":"Run Codefresh pipelines on a Bottlerocket Kubernetes cluster | Codefresh","isPartOf":{"@id":"https:\/\/codefresh.io\/#website"},"primaryImageOfPage":{"@id":"https:\/\/aws.amazon.com\/blogs\/apn\/run-codefresh-pipelines-on-amazon-eks-using-bottlerocket-os\/#primaryimage"},"datePublished":"2021-05-06T17:55:43+00:00","dateModified":"2021-06-14T12:14:26+00:00","breadcrumb":{"@id":"https:\/\/aws.amazon.com\/blogs\/apn\/run-codefresh-pipelines-on-amazon-eks-using-bottlerocket-os\/#breadcrumb"},"inLanguage":"en-US","potentialAction":[{"@type":"ReadAction","target":["https:\/\/aws.amazon.com\/blogs\/apn\/run-codefresh-pipelines-on-amazon-eks-using-bottlerocket-os\/"]}]},{"@type":"BreadcrumbList","@id":"https:\/\/aws.amazon.com\/blogs\/apn\/run-codefresh-pipelines-on-amazon-eks-using-bottlerocket-os\/#breadcrumb","itemListElement":[{"@type":"ListItem","position":1,"name":"Home","item":"https:\/\/codefresh.io\/"},{"@type":"ListItem","position":2,"name":"Run Codefresh pipelines on a Bottlerocket Kubernetes cluster"}]},{"@type":"Article","@id":"https:\/\/aws.amazon.com\/blogs\/apn\/run-codefresh-pipelines-on-amazon-eks-using-bottlerocket-os\/#article","isPartOf":{"@id":"https:\/\/aws.amazon.com\/blogs\/apn\/run-codefresh-pipelines-on-amazon-eks-using-bottlerocket-os\/#webpage"},"author":{"@id":"https:\/\/codefresh.io\/#\/schema\/person\/b2f763eca5adecaee359ad3170055d87"},"headline":"Run Codefresh pipelines on a Bottlerocket Kubernetes cluster","datePublished":"2021-05-06T17:55:43+00:00","dateModified":"2021-06-14T12:14:26+00:00","mainEntityOfPage":{"@id":"https:\/\/aws.amazon.com\/blogs\/apn\/run-codefresh-pipelines-on-amazon-eks-using-bottlerocket-os\/#webpage"},"wordCount":1260,"commentCount":0,"publisher":{"@id":"https:\/\/codefresh.io\/#organization"},"image":{"@id":"https:\/\/aws.amazon.com\/blogs\/apn\/run-codefresh-pipelines-on-amazon-eks-using-bottlerocket-os\/#primaryimage"},"thumbnailUrl":"https:\/\/codefresh.io\/wp-content\/uploads\/2021\/05\/blog-picture.png","keywords":["Kubernetes","devops","CI\/CD","codefresh","continuous delivery","aws","amazon","bottlerocket"],"articleSection":["Devops","Kubecon","Kubernetes Tutorials","Codefresh News","Continuous Integration"],"inLanguage":"en-US","potentialAction":[{"@type":"CommentAction","name":"Comment","target":["https:\/\/aws.amazon.com\/blogs\/apn\/run-codefresh-pipelines-on-amazon-eks-using-bottlerocket-os\/#respond"]}]},{"@type":"Person","@id":"https:\/\/codefresh.io\/#\/schema\/person\/b2f763eca5adecaee359ad3170055d87","name":"Kostis Kapelonis","image":{"@type":"ImageObject","@id":"https:\/\/codefresh.io\/#personlogo","inLanguage":"en-US","url":"https:\/\/codefresh.io\/wp-content\/uploads\/2022\/03\/branded-96x96.png","contentUrl":"https:\/\/codefresh.io\/wp-content\/uploads\/2022\/03\/branded-96x96.png","caption":"Kostis Kapelonis"},"description":"Kostis is a software engineer\/technical-writer dual class character. He lives and breathes automation, good testing practices and stress-free deployments with GitOps.","url":"https:\/\/codefresh.io\/author\/kostiscodefresh-io\/"}]}},"acf":[],"_links":{"self":[{"href":"https:\/\/codefresh.io\/wp-json\/wp\/v2\/posts\/19195"}],"collection":[{"href":"https:\/\/codefresh.io\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/codefresh.io\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/codefresh.io\/wp-json\/wp\/v2\/users\/62"}],"replies":[{"embeddable":true,"href":"https:\/\/codefresh.io\/wp-json\/wp\/v2\/comments?post=19195"}],"version-history":[{"count":0,"href":"https:\/\/codefresh.io\/wp-json\/wp\/v2\/posts\/19195\/revisions"}],"wp:featuredmedia":[{"embeddable":true,"href":"https:\/\/codefresh.io\/wp-json\/wp\/v2\/media\/19196"}],"wp:attachment":[{"href":"https:\/\/codefresh.io\/wp-json\/wp\/v2\/media?parent=19195"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/codefresh.io\/wp-json\/wp\/v2\/categories?post=19195"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/codefresh.io\/wp-json\/wp\/v2\/tags?post=19195"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}