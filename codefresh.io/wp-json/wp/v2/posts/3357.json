{"id":3357,"date":"2017-06-15T18:04:16","date_gmt":"2017-06-15T18:04:16","guid":{"rendered":"https:\/\/codefresh.io\/?p=3357"},"modified":"2022-02-11T21:45:27","modified_gmt":"2022-02-11T21:45:27","slug":"hello-whale-pump-volume","status":"publish","type":"post","link":"https:\/\/codefresh.io\/docker-tutorial\/hello-whale-pump-volume\/","title":{"rendered":"Hello Whale: Pump up the Volume"},"content":{"rendered":"<p>Hey gang! Welcome to another exciting &#8220;Hello Whale&#8221; blog about volumes! Contain yourselves while I break this down\u00a0\ud83d\ude09\ud83d\udc33<\/p>\n<p><img class=\"wp-image-3359 size-full aligncenter\" src=\"https:\/\/codefresh.io\/wp-content\/uploads\/2017\/06\/giphy-1-2.gif\" alt=\"\" width=\"480\" height=\"270\" \/><\/p>\n<p style=\"text-align: center;\">Ok, let&#8217;s move past that terrible container pun and continue&#8230;<\/p>\n<p>As we&#8217;ve talked about before in my <a href=\"https:\/\/medium.com\/containers-101\/hello-whale-images-vs-containers-in-docker-36b68d7c5fac\">previous &#8220;Hello Whale&#8221; posts<\/a>, containers are impermanent, and can be quickly and easily created as well as destroyed. But, what about the data in our application we&#8217;d like to keep around (for example: a database)?<\/p>\n<h2 style=\"text-align: center;\"><strong>Enter Volumes!<\/strong><\/h2>\n<p><img class=\"aligncenter wp-image-3360 size-full\" src=\"https:\/\/codefresh.io\/wp-content\/uploads\/2017\/06\/giphy-2.gif\" alt=\"\" width=\"250\" height=\"159\" \/><\/p>\n<p style=\"text-align: center;\">Ok, not that kind of volume&#8230;<\/p>\n<p>Docker came up with the concept of volumes to help us save persistent data and to help us use the same data between different containers. Volumes are files or directories that live outside of the UFC (Union File System) and live on the host filesystem. This makes them separate from the container itself, making it much more difficult to remove on accident. By having this <a href=\"https:\/\/en.wikipedia.org\/wiki\/Separation_of_concerns\">separation of concerns<\/a>, we are able to create and remove our container freely without worry about our volume data being impacted.<\/p>\n<p>To quote the Docker docs:<\/p>\n<p><em>Data volumes are designed to persist data, independent of the container\u2019s lifecycle. Docker therefore never automatically deletes volumes when you remove a container, nor will it \u201cgarbage collect\u201d volumes that are no longer referenced by a container.<\/em><\/p>\n<p><img class=\"wp-image-3361 size-full aligncenter\" src=\"https:\/\/codefresh.io\/wp-content\/uploads\/2017\/06\/giphy-3.gif\" alt=\"\" width=\"500\" height=\"281\" \/><\/p>\n<p style=\"text-align: center;\">Well said, Docker.<\/p>\n<p><span style=\"font-weight: 400;\">If you\u2019ve seen a DockerFile before, you have likely seen the <code class=\"EnlighterJSRAW\" data-enlighter-language=\"generic\">VOLUME<\/code> command. It usually looks like this:<\/span><\/p>\n<pre class=\"EnlighterJSRAW\" data-enlighter-language=\"generic\">VOLUME [\"\/data\"]<\/pre>\n<p><span style=\"font-weight: 400;\">What this is saying is: &#8220;when you start a new container, make a new volume location and assign it to this directory in the container&#8221;.\u00a0So, volumes need manual deletion. If you remove a container, the volume will still be there. This extra step protects this data from being destroyed each time we start a new container.<\/span><\/p>\n<p>Think of volumes like the baton in a race. With each new lap, the runner changes but the item being passed between them stays consistent.<\/p>\n<p><img class=\"aligncenter wp-image-3362 \" src=\"https:\/\/codefresh.io\/wp-content\/uploads\/2017\/06\/giphy-4.gif\" alt=\"\" width=\"249\" height=\"249\" \/><\/p>\n<p>In this example, the runners are our containers, and the baton (er-drumstick?) is our volume.<\/p>\n<p>When running a container, you can run <code class=\"EnlighterJSRAW\" data-enlighter-language=\"generic\">docker volume ls<\/code>\u00a0to see your running volumes. This will usually spit out an ugly long number\/letter combo for it&#8217;s &#8220;name&#8221; that would be pretty impossible to remember&#8230; well, lucky for us, Docker has named volumes!<\/p>\n<p><img class=\"aligncenter wp-image-3364 \" src=\"https:\/\/codefresh.io\/wp-content\/uploads\/2017\/06\/giphy-6.gif\" alt=\"\" width=\"423\" height=\"238\" \/><\/p>\n<p style=\"text-align: left;\">I&#8217;m able to name my volume by adding the -v command when I run my container. Here&#8217;s an example:<\/p>\n<p><code class=\"EnlighterJSRAW\" data-enlighter-language=\"generic\">docker run -P --name testing123 -v yay-name:\/var\/lib\/python python<\/code><\/p>\n<p>Now, when I run <code class=\"EnlighterJSRAW\" data-enlighter-language=\"generic\">docker volume ls<\/code> I&#8217;ll see:<\/p>\n<pre class=\"EnlighterJSRAW\" data-enlighter-language=\"generic\">DRIVER      VOLUME NAME\r\nlocal        yay-name<\/pre>\n<p>Phew! Much better than something like &#8220;50aea75f82f0000964e65331387486432adea497b1548c3bf62387b818c50b0a&#8221; \ud83d\ude05<\/p>\n<p>And that&#8217;s it! You can create volumes from a <code class=\"EnlighterJSRAW\" data-enlighter-language=\"generic\">docker container run<\/code> command, from the Dockerfile, or ahead of time (lookout for a future blogpost on this third method\/use case).<\/p>\n<p>I hope this has helped you understand volumes better, and feel free to comment\/email me with any additional questions!<\/p>\n<p><img class=\"wp-image-3365 size-full aligncenter\" src=\"https:\/\/codefresh.io\/wp-content\/uploads\/2017\/06\/giphy-7.gif\" alt=\"\" width=\"500\" height=\"375\" \/><\/p>\n<input class=\"fooboxshare_post_id\" type=\"hidden\" value=\"3357\"\/>","protected":false},"excerpt":{"rendered":"<p>Hey gang! Welcome to another exciting &#8220;Hello Whale&#8221; blog about volumes! Contain yourselves while I break this down\u00a0\ud83d\ude09\ud83d\udc33 Ok, let&#8217;s move past that terrible container pun and continue&#8230; As we&#8217;ve talked about before in my previous &#8220;Hello Whale&#8221; posts, containers are impermanent, and can be quickly and easily created as well as destroyed. But, what &hellip; <a href=\"https:\/\/codefresh.io\/docker-tutorial\/hello-whale-pump-volume\/\">Read more<\/a><\/p>\n","protected":false},"author":125,"featured_media":3369,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":[],"categories":[8],"tags":[],"yoast_head":"<!-- This site is optimized with the Yoast SEO Premium plugin v17.9 (Yoast SEO v18.4.1) - https:\/\/yoast.com\/wordpress\/plugins\/seo\/ -->\n<title>Hello Whale: Pump up the Volume | Codefresh<\/title>\n<meta name=\"robots\" content=\"index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1\" \/>\n<link rel=\"canonical\" href=\"https:\/\/codefresh.io\/docker-tutorial\/hello-whale-pump-volume\/\" \/>\n<meta property=\"og:locale\" content=\"en_US\" \/>\n<meta property=\"og:type\" content=\"article\" \/>\n<meta property=\"og:title\" content=\"Hello Whale: Pump up the Volume\" \/>\n<meta property=\"og:description\" content=\"Hey gang! Welcome to another exciting &#8220;Hello Whale&#8221; blog about volumes! Contain yourselves while I break this down\u00a0\ud83d\ude09\ud83d\udc33 Ok, let&#8217;s move past that terrible container pun and continue&#8230; As we&#8217;ve talked about before in my previous &#8220;Hello Whale&#8221; posts, containers are impermanent, and can be quickly and easily created as well as destroyed. But, what &hellip; Read more\" \/>\n<meta property=\"og:url\" content=\"https:\/\/codefresh.io\/docker-tutorial\/hello-whale-pump-volume\/\" \/>\n<meta property=\"og:site_name\" content=\"Codefresh\" \/>\n<meta property=\"article:publisher\" content=\"https:\/\/www.facebook.com\/codefresh.io\" \/>\n<meta property=\"article:published_time\" content=\"2017-06-15T18:04:16+00:00\" \/>\n<meta property=\"article:modified_time\" content=\"2022-02-11T21:45:27+00:00\" \/>\n<meta property=\"og:image\" content=\"https:\/\/codefresh.io\/wp-content\/uploads\/2017\/06\/Screen-Shot-2017-06-14-at-4.38.14-PM.png\" \/>\n\t<meta property=\"og:image:width\" content=\"1154\" \/>\n\t<meta property=\"og:image:height\" content=\"411\" \/>\n\t<meta property=\"og:image:type\" content=\"image\/png\" \/>\n<meta name=\"twitter:card\" content=\"summary_large_image\" \/>\n<meta name=\"twitter:creator\" content=\"@codefresh\" \/>\n<meta name=\"twitter:site\" content=\"@codefresh\" \/>\n<meta name=\"twitter:label1\" content=\"Written by\" \/>\n\t<meta name=\"twitter:data1\" content=\"Contributor\" \/>\n\t<meta name=\"twitter:label2\" content=\"Est. reading time\" \/>\n\t<meta name=\"twitter:data2\" content=\"2 minutes\" \/>\n<script type=\"application\/ld+json\" class=\"yoast-schema-graph\">{\"@context\":\"https:\/\/schema.org\",\"@graph\":[{\"@type\":\"Organization\",\"@id\":\"https:\/\/codefresh.io\/#organization\",\"name\":\"Codefresh\",\"url\":\"https:\/\/codefresh.io\/\",\"sameAs\":[\"https:\/\/www.facebook.com\/codefresh.io\",\"https:\/\/www.linkedin.com\/company\/codefresh\",\"https:\/\/www.youtube.com\/channel\/UC9r94SY6BqN05kXPIHsDXPg\",\"https:\/\/twitter.com\/codefresh\"],\"logo\":{\"@type\":\"ImageObject\",\"@id\":\"https:\/\/codefresh.io\/#logo\",\"inLanguage\":\"en-US\",\"url\":\"https:\/\/codefresh.io\/wp-content\/uploads\/2022\/02\/Codefresh_Logo_Vertical_LightBkgd.png\",\"contentUrl\":\"https:\/\/codefresh.io\/wp-content\/uploads\/2022\/02\/Codefresh_Logo_Vertical_LightBkgd.png\",\"width\":800,\"height\":800,\"caption\":\"Codefresh\"},\"image\":{\"@id\":\"https:\/\/codefresh.io\/#logo\"}},{\"@type\":\"WebSite\",\"@id\":\"https:\/\/codefresh.io\/#website\",\"url\":\"https:\/\/codefresh.io\/\",\"name\":\"Codefresh\",\"description\":\"\",\"publisher\":{\"@id\":\"https:\/\/codefresh.io\/#organization\"},\"potentialAction\":[{\"@type\":\"SearchAction\",\"target\":{\"@type\":\"EntryPoint\",\"urlTemplate\":\"https:\/\/codefresh.io\/?s={search_term_string}\"},\"query-input\":\"required name=search_term_string\"}],\"inLanguage\":\"en-US\"},{\"@type\":\"ImageObject\",\"@id\":\"https:\/\/codefresh.io\/docker-tutorial\/hello-whale-pump-volume\/#primaryimage\",\"inLanguage\":\"en-US\",\"url\":\"https:\/\/codefresh.io\/wp-content\/uploads\/2017\/06\/Screen-Shot-2017-06-14-at-4.38.14-PM.png\",\"contentUrl\":\"https:\/\/codefresh.io\/wp-content\/uploads\/2017\/06\/Screen-Shot-2017-06-14-at-4.38.14-PM.png\",\"width\":1154,\"height\":411},{\"@type\":\"WebPage\",\"@id\":\"https:\/\/codefresh.io\/docker-tutorial\/hello-whale-pump-volume\/#webpage\",\"url\":\"https:\/\/codefresh.io\/docker-tutorial\/hello-whale-pump-volume\/\",\"name\":\"Hello Whale: Pump up the Volume | Codefresh\",\"isPartOf\":{\"@id\":\"https:\/\/codefresh.io\/#website\"},\"primaryImageOfPage\":{\"@id\":\"https:\/\/codefresh.io\/docker-tutorial\/hello-whale-pump-volume\/#primaryimage\"},\"datePublished\":\"2017-06-15T18:04:16+00:00\",\"dateModified\":\"2022-02-11T21:45:27+00:00\",\"breadcrumb\":{\"@id\":\"https:\/\/codefresh.io\/docker-tutorial\/hello-whale-pump-volume\/#breadcrumb\"},\"inLanguage\":\"en-US\",\"potentialAction\":[{\"@type\":\"ReadAction\",\"target\":[\"https:\/\/codefresh.io\/docker-tutorial\/hello-whale-pump-volume\/\"]}]},{\"@type\":\"BreadcrumbList\",\"@id\":\"https:\/\/codefresh.io\/docker-tutorial\/hello-whale-pump-volume\/#breadcrumb\",\"itemListElement\":[{\"@type\":\"ListItem\",\"position\":1,\"name\":\"Home\",\"item\":\"https:\/\/codefresh.io\/\"},{\"@type\":\"ListItem\",\"position\":2,\"name\":\"Hello Whale: Pump up the Volume\"}]},{\"@type\":\"Article\",\"@id\":\"https:\/\/codefresh.io\/docker-tutorial\/hello-whale-pump-volume\/#article\",\"isPartOf\":{\"@id\":\"https:\/\/codefresh.io\/docker-tutorial\/hello-whale-pump-volume\/#webpage\"},\"author\":{\"@id\":\"https:\/\/codefresh.io\/#\/schema\/person\/268e5c2e4740502fae6d803783a16c75\"},\"headline\":\"Hello Whale: Pump up the Volume\",\"datePublished\":\"2017-06-15T18:04:16+00:00\",\"dateModified\":\"2022-02-11T21:45:27+00:00\",\"mainEntityOfPage\":{\"@id\":\"https:\/\/codefresh.io\/docker-tutorial\/hello-whale-pump-volume\/#webpage\"},\"wordCount\":463,\"commentCount\":0,\"publisher\":{\"@id\":\"https:\/\/codefresh.io\/#organization\"},\"image\":{\"@id\":\"https:\/\/codefresh.io\/docker-tutorial\/hello-whale-pump-volume\/#primaryimage\"},\"thumbnailUrl\":\"https:\/\/codefresh.io\/wp-content\/uploads\/2017\/06\/Screen-Shot-2017-06-14-at-4.38.14-PM.png\",\"articleSection\":[\"Docker Tutorials\"],\"inLanguage\":\"en-US\",\"potentialAction\":[{\"@type\":\"CommentAction\",\"name\":\"Comment\",\"target\":[\"https:\/\/codefresh.io\/docker-tutorial\/hello-whale-pump-volume\/#respond\"]}]},{\"@type\":\"Person\",\"@id\":\"https:\/\/codefresh.io\/#\/schema\/person\/268e5c2e4740502fae6d803783a16c75\",\"name\":\"Contributor\",\"image\":{\"@type\":\"ImageObject\",\"@id\":\"https:\/\/codefresh.io\/#personlogo\",\"inLanguage\":\"en-US\",\"url\":\"https:\/\/secure.gravatar.com\/avatar\/26bd6dd87bf70f0c1a44721c8b3abbbd?s=96&d=blank&r=g\",\"contentUrl\":\"https:\/\/secure.gravatar.com\/avatar\/26bd6dd87bf70f0c1a44721c8b3abbbd?s=96&d=blank&r=g\",\"caption\":\"Contributor\"},\"url\":\"https:\/\/codefresh.io\/author\/contributor\/\"}]}<\/script>\n<!-- \/ Yoast SEO Premium plugin. -->","yoast_head_json":{"title":"Hello Whale: Pump up the Volume | Codefresh","robots":{"index":"index","follow":"follow","max-snippet":"max-snippet:-1","max-image-preview":"max-image-preview:large","max-video-preview":"max-video-preview:-1"},"canonical":"https:\/\/codefresh.io\/docker-tutorial\/hello-whale-pump-volume\/","og_locale":"en_US","og_type":"article","og_title":"Hello Whale: Pump up the Volume","og_description":"Hey gang! Welcome to another exciting &#8220;Hello Whale&#8221; blog about volumes! Contain yourselves while I break this down\u00a0\ud83d\ude09\ud83d\udc33 Ok, let&#8217;s move past that terrible container pun and continue&#8230; As we&#8217;ve talked about before in my previous &#8220;Hello Whale&#8221; posts, containers are impermanent, and can be quickly and easily created as well as destroyed. But, what &hellip; Read more","og_url":"https:\/\/codefresh.io\/docker-tutorial\/hello-whale-pump-volume\/","og_site_name":"Codefresh","article_publisher":"https:\/\/www.facebook.com\/codefresh.io","article_published_time":"2017-06-15T18:04:16+00:00","article_modified_time":"2022-02-11T21:45:27+00:00","og_image":[{"width":1154,"height":411,"url":"https:\/\/codefresh.io\/wp-content\/uploads\/2017\/06\/Screen-Shot-2017-06-14-at-4.38.14-PM.png","type":"image\/png"}],"twitter_card":"summary_large_image","twitter_creator":"@codefresh","twitter_site":"@codefresh","twitter_misc":{"Written by":"Contributor","Est. reading time":"2 minutes"},"schema":{"@context":"https:\/\/schema.org","@graph":[{"@type":"Organization","@id":"https:\/\/codefresh.io\/#organization","name":"Codefresh","url":"https:\/\/codefresh.io\/","sameAs":["https:\/\/www.facebook.com\/codefresh.io","https:\/\/www.linkedin.com\/company\/codefresh","https:\/\/www.youtube.com\/channel\/UC9r94SY6BqN05kXPIHsDXPg","https:\/\/twitter.com\/codefresh"],"logo":{"@type":"ImageObject","@id":"https:\/\/codefresh.io\/#logo","inLanguage":"en-US","url":"https:\/\/codefresh.io\/wp-content\/uploads\/2022\/02\/Codefresh_Logo_Vertical_LightBkgd.png","contentUrl":"https:\/\/codefresh.io\/wp-content\/uploads\/2022\/02\/Codefresh_Logo_Vertical_LightBkgd.png","width":800,"height":800,"caption":"Codefresh"},"image":{"@id":"https:\/\/codefresh.io\/#logo"}},{"@type":"WebSite","@id":"https:\/\/codefresh.io\/#website","url":"https:\/\/codefresh.io\/","name":"Codefresh","description":"","publisher":{"@id":"https:\/\/codefresh.io\/#organization"},"potentialAction":[{"@type":"SearchAction","target":{"@type":"EntryPoint","urlTemplate":"https:\/\/codefresh.io\/?s={search_term_string}"},"query-input":"required name=search_term_string"}],"inLanguage":"en-US"},{"@type":"ImageObject","@id":"https:\/\/codefresh.io\/docker-tutorial\/hello-whale-pump-volume\/#primaryimage","inLanguage":"en-US","url":"https:\/\/codefresh.io\/wp-content\/uploads\/2017\/06\/Screen-Shot-2017-06-14-at-4.38.14-PM.png","contentUrl":"https:\/\/codefresh.io\/wp-content\/uploads\/2017\/06\/Screen-Shot-2017-06-14-at-4.38.14-PM.png","width":1154,"height":411},{"@type":"WebPage","@id":"https:\/\/codefresh.io\/docker-tutorial\/hello-whale-pump-volume\/#webpage","url":"https:\/\/codefresh.io\/docker-tutorial\/hello-whale-pump-volume\/","name":"Hello Whale: Pump up the Volume | Codefresh","isPartOf":{"@id":"https:\/\/codefresh.io\/#website"},"primaryImageOfPage":{"@id":"https:\/\/codefresh.io\/docker-tutorial\/hello-whale-pump-volume\/#primaryimage"},"datePublished":"2017-06-15T18:04:16+00:00","dateModified":"2022-02-11T21:45:27+00:00","breadcrumb":{"@id":"https:\/\/codefresh.io\/docker-tutorial\/hello-whale-pump-volume\/#breadcrumb"},"inLanguage":"en-US","potentialAction":[{"@type":"ReadAction","target":["https:\/\/codefresh.io\/docker-tutorial\/hello-whale-pump-volume\/"]}]},{"@type":"BreadcrumbList","@id":"https:\/\/codefresh.io\/docker-tutorial\/hello-whale-pump-volume\/#breadcrumb","itemListElement":[{"@type":"ListItem","position":1,"name":"Home","item":"https:\/\/codefresh.io\/"},{"@type":"ListItem","position":2,"name":"Hello Whale: Pump up the Volume"}]},{"@type":"Article","@id":"https:\/\/codefresh.io\/docker-tutorial\/hello-whale-pump-volume\/#article","isPartOf":{"@id":"https:\/\/codefresh.io\/docker-tutorial\/hello-whale-pump-volume\/#webpage"},"author":{"@id":"https:\/\/codefresh.io\/#\/schema\/person\/268e5c2e4740502fae6d803783a16c75"},"headline":"Hello Whale: Pump up the Volume","datePublished":"2017-06-15T18:04:16+00:00","dateModified":"2022-02-11T21:45:27+00:00","mainEntityOfPage":{"@id":"https:\/\/codefresh.io\/docker-tutorial\/hello-whale-pump-volume\/#webpage"},"wordCount":463,"commentCount":0,"publisher":{"@id":"https:\/\/codefresh.io\/#organization"},"image":{"@id":"https:\/\/codefresh.io\/docker-tutorial\/hello-whale-pump-volume\/#primaryimage"},"thumbnailUrl":"https:\/\/codefresh.io\/wp-content\/uploads\/2017\/06\/Screen-Shot-2017-06-14-at-4.38.14-PM.png","articleSection":["Docker Tutorials"],"inLanguage":"en-US","potentialAction":[{"@type":"CommentAction","name":"Comment","target":["https:\/\/codefresh.io\/docker-tutorial\/hello-whale-pump-volume\/#respond"]}]},{"@type":"Person","@id":"https:\/\/codefresh.io\/#\/schema\/person\/268e5c2e4740502fae6d803783a16c75","name":"Contributor","image":{"@type":"ImageObject","@id":"https:\/\/codefresh.io\/#personlogo","inLanguage":"en-US","url":"https:\/\/secure.gravatar.com\/avatar\/26bd6dd87bf70f0c1a44721c8b3abbbd?s=96&d=blank&r=g","contentUrl":"https:\/\/secure.gravatar.com\/avatar\/26bd6dd87bf70f0c1a44721c8b3abbbd?s=96&d=blank&r=g","caption":"Contributor"},"url":"https:\/\/codefresh.io\/author\/contributor\/"}]}},"acf":[],"_links":{"self":[{"href":"https:\/\/codefresh.io\/wp-json\/wp\/v2\/posts\/3357"}],"collection":[{"href":"https:\/\/codefresh.io\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/codefresh.io\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/codefresh.io\/wp-json\/wp\/v2\/users\/125"}],"replies":[{"embeddable":true,"href":"https:\/\/codefresh.io\/wp-json\/wp\/v2\/comments?post=3357"}],"version-history":[{"count":1,"href":"https:\/\/codefresh.io\/wp-json\/wp\/v2\/posts\/3357\/revisions"}],"predecessor-version":[{"id":21488,"href":"https:\/\/codefresh.io\/wp-json\/wp\/v2\/posts\/3357\/revisions\/21488"}],"wp:featuredmedia":[{"embeddable":true,"href":"https:\/\/codefresh.io\/wp-json\/wp\/v2\/media\/3369"}],"wp:attachment":[{"href":"https:\/\/codefresh.io\/wp-json\/wp\/v2\/media?parent=3357"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/codefresh.io\/wp-json\/wp\/v2\/categories?post=3357"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/codefresh.io\/wp-json\/wp\/v2\/tags?post=3357"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}