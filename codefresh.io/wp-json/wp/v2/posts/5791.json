{"id":5791,"date":"2017-12-30T00:35:03","date_gmt":"2017-12-30T00:35:03","guid":{"rendered":"https:\/\/codefresh.io\/?post_type=dockerguides&#038;p=5791"},"modified":"2021-04-13T00:57:40","modified_gmt":"2021-04-13T08:57:40","slug":"docker-docker-dind-service","status":"publish","type":"post","link":"https:\/\/codefresh.io\/docker-tutorial\/docker-docker-dind-service\/","title":{"rendered":"Everything is a Docker image"},"content":{"rendered":"<p><a href=\"http:\/\/codefresh.io\">Ultimately Codefresh is a DevOps platform<\/a> designed for containers and Kubernetes. The backbone of all of that is the Codefresh pipelines which provide Docker in Docker as a service. This has a lot of implications for how you build pipelines, support multiple languages and handle tooling.<\/p>\n<p><b>Updated information:<\/b> If you want to build and run Docker images in our pipeline see our dedicated guides and examples<\/p>\n<ul>\n<li><a href=\"https:\/\/codefresh.io\/docs\/docs\/ci-cd-guides\/building-docker-images\/\">Building Docker images<\/a><\/li>\n<li><a href=\"https:\/\/codefresh.io\/docs\/docs\/ci-cd-guides\/working-with-docker-registries\/\">Working with Docker Registries<\/a><\/li>\n<li><a href=\"https:\/\/codefresh.io\/docs\/docs\/configure-ci-cd-pipeline\/introduction-to-codefresh-pipelines\/\">Introduction to Codefresh pipelines<\/a><\/li>\n<\/ul>\n<h2>Each step runs in it&#8217;s own container<\/h2>\n<p>When defining a custom step in Codefresh, you start by specifying which image you want to run. For example, what if we wanted to curl Slack to post a message?<\/p>\n<pre class=\"lang:default decode:true \">slack_notify:\n  image: tutum\/curl\n  commands:\n    - curl -X POST --data-urlencode 'payload={\"text\":\"Test slack integration via yaml\"}' ${{SLACK_WEB_URL}}<\/pre>\n<p>This will take the curl image, load it into a fresh container and execute the command. That means that basically any Docker image is a direct plugin for the Codefresh pipeline.<\/p>\n<h2>You can spin up an entire composition<\/h2>\n<p>Going beyond just running an image, you can actually use the DinD service to spin up an instance of several images at once. For example, in this example, we spin up a demo application with Taurus, the performance testing suite to run tests against Blazemeter.<\/p>\n<pre class=\"lang:default decode:true \">RunningPerformanceTests:\n    title: Running Performance Tests\n    type: composition\n    composition:\n      version: '2'\n      services:\n        aut:\n          ports:\n            - 5000\n          image: 'containers101\/demochat:master'\n        mongo:\n          image: mongo\n    composition_candidates:\n      cfintegration:\n        image: 'r.cfcr.io\/razielt77_github\/razielt\/taurus:master'\n        environment:\n          - CF_VOLUME_PATH=${{CF_VOLUME_PATH}}\n          - TOKEN=${{TOKEN}}\n          - TR_SCRIPT=${{TR_SCRIPT}} \n        volumes:\n         - '${{CF_VOLUME_NAME}}:\/codefresh\/volume'\n    add_flow_volume_to_composition: true<\/pre>\n<h2>Keeping a persistent Volume<\/h2>\n<p>Each step in the pipeline is using it&#8217;s own container but we&#8217;re maintaining a persistent volume. This allows you to pass information between steps, utilize caching, etc. In this example, we&#8217;ll add JIRA information from a Codefresh pipeline.<\/p>\n<h2>Conclusion<\/h2>\n<p>To get started, <a href=\"https:\/\/codefresh.io\/\">create a free account<\/a>, or checkout our <a href=\"https:\/\/docs.codefresh.io\/v1.0\/docs\/what-is-the-codefresh-yaml\">documentation<\/a>.<\/p>\n<input class=\"fooboxshare_post_id\" type=\"hidden\" value=\"5791\"\/>","protected":false},"excerpt":{"rendered":"<p>Ultimately Codefresh is a DevOps platform designed for containers and Kubernetes. The backbone of all of that is the Codefresh pipelines which provide Docker in Docker as a service. This has a lot of implications for how you build pipelines, support multiple languages and handle tooling. Updated information: If you want to build and run &hellip; <a href=\"https:\/\/codefresh.io\/docker-tutorial\/docker-docker-dind-service\/\">Read more<\/a><\/p>\n","protected":false},"author":27,"featured_media":2732,"comment_status":"closed","ping_status":"closed","sticky":false,"template":"","format":"standard","meta":[],"categories":[8],"tags":[14,94,117,118],"yoast_head":"<!-- This site is optimized with the Yoast SEO Premium plugin v17.9 (Yoast SEO v18.4.1) - https:\/\/yoast.com\/wordpress\/plugins\/seo\/ -->\n<title>Everything is a Docker image | Codefresh<\/title>\n<meta name=\"robots\" content=\"index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1\" \/>\n<link rel=\"canonical\" href=\"https:\/\/codefresh.io\/docker-tutorial\/docker-docker-dind-service\/\" \/>\n<meta property=\"og:locale\" content=\"en_US\" \/>\n<meta property=\"og:type\" content=\"article\" \/>\n<meta property=\"og:title\" content=\"Everything is a Docker image\" \/>\n<meta property=\"og:description\" content=\"Ultimately Codefresh is a DevOps platform designed for containers and Kubernetes. The backbone of all of that is the Codefresh pipelines which provide Docker in Docker as a service. This has a lot of implications for how you build pipelines, support multiple languages and handle tooling. Updated information: If you want to build and run &hellip; Read more\" \/>\n<meta property=\"og:url\" content=\"https:\/\/codefresh.io\/docker-tutorial\/docker-docker-dind-service\/\" \/>\n<meta property=\"og:site_name\" content=\"Codefresh\" \/>\n<meta property=\"article:publisher\" content=\"https:\/\/www.facebook.com\/codefresh.io\" \/>\n<meta property=\"article:published_time\" content=\"2017-12-30T00:35:03+00:00\" \/>\n<meta property=\"article:modified_time\" content=\"2021-04-13T08:57:40+00:00\" \/>\n<meta property=\"og:image\" content=\"https:\/\/codefresh.io\/wp-content\/uploads\/2017\/04\/Dockerhub-integrate-Codefresh.png\" \/>\n\t<meta property=\"og:image:width\" content=\"1000\" \/>\n\t<meta property=\"og:image:height\" content=\"495\" \/>\n\t<meta property=\"og:image:type\" content=\"image\/png\" \/>\n<meta name=\"twitter:card\" content=\"summary_large_image\" \/>\n<meta name=\"twitter:creator\" content=\"@todaywasawesome\" \/>\n<meta name=\"twitter:site\" content=\"@codefresh\" \/>\n<meta name=\"twitter:label1\" content=\"Written by\" \/>\n\t<meta name=\"twitter:data1\" content=\"Dan Garfield\" \/>\n\t<meta name=\"twitter:label2\" content=\"Est. reading time\" \/>\n\t<meta name=\"twitter:data2\" content=\"2 minutes\" \/>\n<script type=\"application\/ld+json\" class=\"yoast-schema-graph\">{\"@context\":\"https:\/\/schema.org\",\"@graph\":[{\"@type\":\"Organization\",\"@id\":\"https:\/\/codefresh.io\/#organization\",\"name\":\"Codefresh\",\"url\":\"https:\/\/codefresh.io\/\",\"sameAs\":[\"https:\/\/www.facebook.com\/codefresh.io\",\"https:\/\/www.linkedin.com\/company\/codefresh\",\"https:\/\/www.youtube.com\/channel\/UC9r94SY6BqN05kXPIHsDXPg\",\"https:\/\/twitter.com\/codefresh\"],\"logo\":{\"@type\":\"ImageObject\",\"@id\":\"https:\/\/codefresh.io\/#logo\",\"inLanguage\":\"en-US\",\"url\":\"https:\/\/codefresh.io\/wp-content\/uploads\/2022\/02\/Codefresh_Logo_Vertical_LightBkgd.png\",\"contentUrl\":\"https:\/\/codefresh.io\/wp-content\/uploads\/2022\/02\/Codefresh_Logo_Vertical_LightBkgd.png\",\"width\":800,\"height\":800,\"caption\":\"Codefresh\"},\"image\":{\"@id\":\"https:\/\/codefresh.io\/#logo\"}},{\"@type\":\"WebSite\",\"@id\":\"https:\/\/codefresh.io\/#website\",\"url\":\"https:\/\/codefresh.io\/\",\"name\":\"Codefresh\",\"description\":\"\",\"publisher\":{\"@id\":\"https:\/\/codefresh.io\/#organization\"},\"potentialAction\":[{\"@type\":\"SearchAction\",\"target\":{\"@type\":\"EntryPoint\",\"urlTemplate\":\"https:\/\/codefresh.io\/?s={search_term_string}\"},\"query-input\":\"required name=search_term_string\"}],\"inLanguage\":\"en-US\"},{\"@type\":\"ImageObject\",\"@id\":\"https:\/\/codefresh.io\/docker-tutorial\/docker-docker-dind-service\/#primaryimage\",\"inLanguage\":\"en-US\",\"url\":\"https:\/\/codefresh.io\/wp-content\/uploads\/2017\/04\/Dockerhub-integrate-Codefresh.png\",\"contentUrl\":\"https:\/\/codefresh.io\/wp-content\/uploads\/2017\/04\/Dockerhub-integrate-Codefresh.png\",\"width\":1000,\"height\":495},{\"@type\":\"WebPage\",\"@id\":\"https:\/\/codefresh.io\/docker-tutorial\/docker-docker-dind-service\/#webpage\",\"url\":\"https:\/\/codefresh.io\/docker-tutorial\/docker-docker-dind-service\/\",\"name\":\"Everything is a Docker image | Codefresh\",\"isPartOf\":{\"@id\":\"https:\/\/codefresh.io\/#website\"},\"primaryImageOfPage\":{\"@id\":\"https:\/\/codefresh.io\/docker-tutorial\/docker-docker-dind-service\/#primaryimage\"},\"datePublished\":\"2017-12-30T00:35:03+00:00\",\"dateModified\":\"2021-04-13T08:57:40+00:00\",\"breadcrumb\":{\"@id\":\"https:\/\/codefresh.io\/docker-tutorial\/docker-docker-dind-service\/#breadcrumb\"},\"inLanguage\":\"en-US\",\"potentialAction\":[{\"@type\":\"ReadAction\",\"target\":[\"https:\/\/codefresh.io\/docker-tutorial\/docker-docker-dind-service\/\"]}]},{\"@type\":\"BreadcrumbList\",\"@id\":\"https:\/\/codefresh.io\/docker-tutorial\/docker-docker-dind-service\/#breadcrumb\",\"itemListElement\":[{\"@type\":\"ListItem\",\"position\":1,\"name\":\"Home\",\"item\":\"https:\/\/codefresh.io\/\"},{\"@type\":\"ListItem\",\"position\":2,\"name\":\"Everything is a Docker image\"}]},{\"@type\":\"Article\",\"@id\":\"https:\/\/codefresh.io\/docker-tutorial\/docker-docker-dind-service\/#article\",\"isPartOf\":{\"@id\":\"https:\/\/codefresh.io\/docker-tutorial\/docker-docker-dind-service\/#webpage\"},\"author\":{\"@id\":\"https:\/\/codefresh.io\/#\/schema\/person\/17aca6389be0f81b999f1b138a0b44a4\"},\"headline\":\"Everything is a Docker image\",\"datePublished\":\"2017-12-30T00:35:03+00:00\",\"dateModified\":\"2021-04-13T08:57:40+00:00\",\"mainEntityOfPage\":{\"@id\":\"https:\/\/codefresh.io\/docker-tutorial\/docker-docker-dind-service\/#webpage\"},\"wordCount\":256,\"publisher\":{\"@id\":\"https:\/\/codefresh.io\/#organization\"},\"image\":{\"@id\":\"https:\/\/codefresh.io\/docker-tutorial\/docker-docker-dind-service\/#primaryimage\"},\"thumbnailUrl\":\"https:\/\/codefresh.io\/wp-content\/uploads\/2017\/04\/Dockerhub-integrate-Codefresh.png\",\"keywords\":[\"docker\",\"docker ci\",\"docker pipelines\",\"docker cd\"],\"articleSection\":[\"Docker Tutorials\"],\"inLanguage\":\"en-US\"},{\"@type\":\"Person\",\"@id\":\"https:\/\/codefresh.io\/#\/schema\/person\/17aca6389be0f81b999f1b138a0b44a4\",\"name\":\"Dan Garfield\",\"image\":{\"@type\":\"ImageObject\",\"@id\":\"https:\/\/codefresh.io\/#personlogo\",\"inLanguage\":\"en-US\",\"url\":\"https:\/\/secure.gravatar.com\/avatar\/d4a38809809980ed49dc7e696a8e3938?s=96&d=blank&r=g\",\"contentUrl\":\"https:\/\/secure.gravatar.com\/avatar\/d4a38809809980ed49dc7e696a8e3938?s=96&d=blank&r=g\",\"caption\":\"Dan Garfield\"},\"description\":\"Dan is the Co-Founder and Chief Open Source Officer at Codefresh. His work in open source includes being an Argo Maintainer, and co-chair of the GitOps Working Group. As a technology leader with a background in full-stack engineering, evangelism, and communications, he led Codefresh's go-to-market strategy and now leads open source strategy. You can follow him at twitter.com\/todaywasawesome\",\"sameAs\":[\"https:\/\/twitter.com\/todaywasawesome\"],\"url\":\"https:\/\/codefresh.io\/author\/dang\/\"}]}<\/script>\n<!-- \/ Yoast SEO Premium plugin. -->","yoast_head_json":{"title":"Everything is a Docker image | Codefresh","robots":{"index":"index","follow":"follow","max-snippet":"max-snippet:-1","max-image-preview":"max-image-preview:large","max-video-preview":"max-video-preview:-1"},"canonical":"https:\/\/codefresh.io\/docker-tutorial\/docker-docker-dind-service\/","og_locale":"en_US","og_type":"article","og_title":"Everything is a Docker image","og_description":"Ultimately Codefresh is a DevOps platform designed for containers and Kubernetes. The backbone of all of that is the Codefresh pipelines which provide Docker in Docker as a service. This has a lot of implications for how you build pipelines, support multiple languages and handle tooling. Updated information: If you want to build and run &hellip; Read more","og_url":"https:\/\/codefresh.io\/docker-tutorial\/docker-docker-dind-service\/","og_site_name":"Codefresh","article_publisher":"https:\/\/www.facebook.com\/codefresh.io","article_published_time":"2017-12-30T00:35:03+00:00","article_modified_time":"2021-04-13T08:57:40+00:00","og_image":[{"width":1000,"height":495,"url":"https:\/\/codefresh.io\/wp-content\/uploads\/2017\/04\/Dockerhub-integrate-Codefresh.png","type":"image\/png"}],"twitter_card":"summary_large_image","twitter_creator":"@todaywasawesome","twitter_site":"@codefresh","twitter_misc":{"Written by":"Dan Garfield","Est. reading time":"2 minutes"},"schema":{"@context":"https:\/\/schema.org","@graph":[{"@type":"Organization","@id":"https:\/\/codefresh.io\/#organization","name":"Codefresh","url":"https:\/\/codefresh.io\/","sameAs":["https:\/\/www.facebook.com\/codefresh.io","https:\/\/www.linkedin.com\/company\/codefresh","https:\/\/www.youtube.com\/channel\/UC9r94SY6BqN05kXPIHsDXPg","https:\/\/twitter.com\/codefresh"],"logo":{"@type":"ImageObject","@id":"https:\/\/codefresh.io\/#logo","inLanguage":"en-US","url":"https:\/\/codefresh.io\/wp-content\/uploads\/2022\/02\/Codefresh_Logo_Vertical_LightBkgd.png","contentUrl":"https:\/\/codefresh.io\/wp-content\/uploads\/2022\/02\/Codefresh_Logo_Vertical_LightBkgd.png","width":800,"height":800,"caption":"Codefresh"},"image":{"@id":"https:\/\/codefresh.io\/#logo"}},{"@type":"WebSite","@id":"https:\/\/codefresh.io\/#website","url":"https:\/\/codefresh.io\/","name":"Codefresh","description":"","publisher":{"@id":"https:\/\/codefresh.io\/#organization"},"potentialAction":[{"@type":"SearchAction","target":{"@type":"EntryPoint","urlTemplate":"https:\/\/codefresh.io\/?s={search_term_string}"},"query-input":"required name=search_term_string"}],"inLanguage":"en-US"},{"@type":"ImageObject","@id":"https:\/\/codefresh.io\/docker-tutorial\/docker-docker-dind-service\/#primaryimage","inLanguage":"en-US","url":"https:\/\/codefresh.io\/wp-content\/uploads\/2017\/04\/Dockerhub-integrate-Codefresh.png","contentUrl":"https:\/\/codefresh.io\/wp-content\/uploads\/2017\/04\/Dockerhub-integrate-Codefresh.png","width":1000,"height":495},{"@type":"WebPage","@id":"https:\/\/codefresh.io\/docker-tutorial\/docker-docker-dind-service\/#webpage","url":"https:\/\/codefresh.io\/docker-tutorial\/docker-docker-dind-service\/","name":"Everything is a Docker image | Codefresh","isPartOf":{"@id":"https:\/\/codefresh.io\/#website"},"primaryImageOfPage":{"@id":"https:\/\/codefresh.io\/docker-tutorial\/docker-docker-dind-service\/#primaryimage"},"datePublished":"2017-12-30T00:35:03+00:00","dateModified":"2021-04-13T08:57:40+00:00","breadcrumb":{"@id":"https:\/\/codefresh.io\/docker-tutorial\/docker-docker-dind-service\/#breadcrumb"},"inLanguage":"en-US","potentialAction":[{"@type":"ReadAction","target":["https:\/\/codefresh.io\/docker-tutorial\/docker-docker-dind-service\/"]}]},{"@type":"BreadcrumbList","@id":"https:\/\/codefresh.io\/docker-tutorial\/docker-docker-dind-service\/#breadcrumb","itemListElement":[{"@type":"ListItem","position":1,"name":"Home","item":"https:\/\/codefresh.io\/"},{"@type":"ListItem","position":2,"name":"Everything is a Docker image"}]},{"@type":"Article","@id":"https:\/\/codefresh.io\/docker-tutorial\/docker-docker-dind-service\/#article","isPartOf":{"@id":"https:\/\/codefresh.io\/docker-tutorial\/docker-docker-dind-service\/#webpage"},"author":{"@id":"https:\/\/codefresh.io\/#\/schema\/person\/17aca6389be0f81b999f1b138a0b44a4"},"headline":"Everything is a Docker image","datePublished":"2017-12-30T00:35:03+00:00","dateModified":"2021-04-13T08:57:40+00:00","mainEntityOfPage":{"@id":"https:\/\/codefresh.io\/docker-tutorial\/docker-docker-dind-service\/#webpage"},"wordCount":256,"publisher":{"@id":"https:\/\/codefresh.io\/#organization"},"image":{"@id":"https:\/\/codefresh.io\/docker-tutorial\/docker-docker-dind-service\/#primaryimage"},"thumbnailUrl":"https:\/\/codefresh.io\/wp-content\/uploads\/2017\/04\/Dockerhub-integrate-Codefresh.png","keywords":["docker","docker ci","docker pipelines","docker cd"],"articleSection":["Docker Tutorials"],"inLanguage":"en-US"},{"@type":"Person","@id":"https:\/\/codefresh.io\/#\/schema\/person\/17aca6389be0f81b999f1b138a0b44a4","name":"Dan Garfield","image":{"@type":"ImageObject","@id":"https:\/\/codefresh.io\/#personlogo","inLanguage":"en-US","url":"https:\/\/secure.gravatar.com\/avatar\/d4a38809809980ed49dc7e696a8e3938?s=96&d=blank&r=g","contentUrl":"https:\/\/secure.gravatar.com\/avatar\/d4a38809809980ed49dc7e696a8e3938?s=96&d=blank&r=g","caption":"Dan Garfield"},"description":"Dan is the Co-Founder and Chief Open Source Officer at Codefresh. His work in open source includes being an Argo Maintainer, and co-chair of the GitOps Working Group. As a technology leader with a background in full-stack engineering, evangelism, and communications, he led Codefresh's go-to-market strategy and now leads open source strategy. You can follow him at twitter.com\/todaywasawesome","sameAs":["https:\/\/twitter.com\/todaywasawesome"],"url":"https:\/\/codefresh.io\/author\/dang\/"}]}},"acf":[],"_links":{"self":[{"href":"https:\/\/codefresh.io\/wp-json\/wp\/v2\/posts\/5791"}],"collection":[{"href":"https:\/\/codefresh.io\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/codefresh.io\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/codefresh.io\/wp-json\/wp\/v2\/users\/27"}],"replies":[{"embeddable":true,"href":"https:\/\/codefresh.io\/wp-json\/wp\/v2\/comments?post=5791"}],"version-history":[{"count":0,"href":"https:\/\/codefresh.io\/wp-json\/wp\/v2\/posts\/5791\/revisions"}],"wp:featuredmedia":[{"embeddable":true,"href":"https:\/\/codefresh.io\/wp-json\/wp\/v2\/media\/2732"}],"wp:attachment":[{"href":"https:\/\/codefresh.io\/wp-json\/wp\/v2\/media?parent=5791"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/codefresh.io\/wp-json\/wp\/v2\/categories?post=5791"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/codefresh.io\/wp-json\/wp\/v2\/tags?post=5791"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}