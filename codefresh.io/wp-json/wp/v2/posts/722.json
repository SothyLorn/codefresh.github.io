{"id":722,"date":"2016-08-23T21:09:01","date_gmt":"2016-08-23T21:09:01","guid":{"rendered":"https:\/\/codefresh.io\/?p=722"},"modified":"2022-02-11T18:04:24","modified_gmt":"2022-02-11T18:04:24","slug":"useful-tricks-clean-docker-dev-environment","status":"publish","type":"post","link":"https:\/\/codefresh.io\/docker-tutorial\/useful-tricks-clean-docker-dev-environment\/","title":{"rendered":"Useful tricks to clean up your Docker dev environment"},"content":{"rendered":"<p>Many of us who develop\u00a0with Docker often\u00a0find\u00a0that we are:<\/p>\n<ul>\n<li>Building layers upon layers of \u00a0images<\/li>\n<li>Running\u00a0a whole fleet\u00a0of containers originating from\u00a0various base images and\u00a0different versions of our own apps<\/li>\n<\/ul>\n<p>After all, being able to quickly build, spin up and test various code and environment combinations is\u00a0one\u00a0of the greatest benefits of container-based development.\u00a0And there&#8217;s no better way to test your changes than running a few environments in parallel and switching between them. It&#8217;s blue-green deployment\u00a0and A\/B testing\u00a0at your fingertips!\u00a0But even the strongest development machine has resource limitations. Eventually, we need to remove images and kill some containers just to be able to build and run new versions.<\/p>\n<p>So here are a few useful command-line tricks to help you\u00a0clean up your working environment.<\/p>\n<p><!--more--><\/p>\n<ol>\n<li style=\"list-style-type: none;\">\n<ul>\n<li>Remove all stopped \u00a0containers:<\/li>\n<\/ul>\n<\/li>\n<\/ol>\n<pre class=\"EnlighterJSRAW\" data-enlighter-language=\"generic\">docker rm $(docker ps -a -q)<\/pre>\n<ol>\n<li style=\"list-style-type: none;\">\n<ul>\n<li>Remove all untagged \u00a0images:<\/li>\n<\/ul>\n<\/li>\n<\/ol>\n<pre class=\"EnlighterJSRAW\" data-enlighter-language=\"generic\">docker images -q --filter \"dangling=true\" | xargs docker rmi<\/pre>\n<p>Note: Use &#8216;docker rmi <strong>-f<\/strong>&#8216; to force the removal of images even if there are some stopped containers based on them .<\/p>\n<ol>\n<li style=\"list-style-type: none;\">\n<ul>\n<li>Remove all containers based on specific \u00a0image:<\/li>\n<\/ul>\n<\/li>\n<\/ol>\n<pre class=\"EnlighterJSRAW\" data-enlighter-language=\"generic\">docker ps --filter ancestor=codefresh\/golang:1.1 -q | xargs -l docker stop<\/pre>\n<p>Note : You will need to replace codefresh\/golang:1.1 with your own &lt;repository&gt;:&lt;tag&gt; in the last command.<br \/>\nIf you\u00a0omit the :&lt;tag&gt; &#8211;\u00a0\u00a0&#8216;docker ps&#8217; will return only the containers based on the &#8216;latest&#8217; tag of the specified image. They are the ones that will get stopped.<\/p>\n<ol>\n<li style=\"list-style-type: none;\">\n<ul>\n<li>Remove unused data volumes ( thanks to Pierre F. for the suggestion\u00a0)<\/li>\n<\/ul>\n<\/li>\n<\/ol>\n<pre class=\"EnlighterJSRAW\" data-enlighter-language=\"generic\">docker volume rm $(docker volume ls -qf dangling=true)<\/pre>\n<p>Got more tricks of your own? Please leave them in comments.<\/p>\n<hr \/>\n<p>Codefresh is a Docker automation &amp; collaboration platform for agile teams. Get your <a href=\"https:\/\/codefresh.io\">free account<\/a>.<\/p>\n<input class=\"fooboxshare_post_id\" type=\"hidden\" value=\"722\"\/>","protected":false},"excerpt":{"rendered":"<p>Many of us who develop\u00a0with Docker often\u00a0find\u00a0that we are: Building layers upon layers of \u00a0images Running\u00a0a whole fleet\u00a0of containers originating from\u00a0various base images and\u00a0different versions of our own apps After all, being able to quickly build, spin up and test various code and environment combinations is\u00a0one\u00a0of the greatest benefits of container-based development.\u00a0And there&#8217;s no better &hellip; <a href=\"https:\/\/codefresh.io\/docker-tutorial\/useful-tricks-clean-docker-dev-environment\/\">Read more<\/a><\/p>\n","protected":false},"author":9,"featured_media":797,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":[],"categories":[8],"tags":[14],"yoast_head":"<!-- This site is optimized with the Yoast SEO Premium plugin v17.9 (Yoast SEO v18.4.1) - https:\/\/yoast.com\/wordpress\/plugins\/seo\/ -->\n<title>Useful tricks to clean up your Docker dev environment | Codefresh<\/title>\n<meta name=\"robots\" content=\"index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1\" \/>\n<link rel=\"canonical\" href=\"https:\/\/codefresh.io\/docker-tutorial\/useful-tricks-clean-docker-dev-environment\/\" \/>\n<meta property=\"og:locale\" content=\"en_US\" \/>\n<meta property=\"og:type\" content=\"article\" \/>\n<meta property=\"og:title\" content=\"Useful tricks to clean up your Docker dev environment\" \/>\n<meta property=\"og:description\" content=\"Many of us who develop\u00a0with Docker often\u00a0find\u00a0that we are: Building layers upon layers of \u00a0images Running\u00a0a whole fleet\u00a0of containers originating from\u00a0various base images and\u00a0different versions of our own apps After all, being able to quickly build, spin up and test various code and environment combinations is\u00a0one\u00a0of the greatest benefits of container-based development.\u00a0And there&#8217;s no better &hellip; Read more\" \/>\n<meta property=\"og:url\" content=\"https:\/\/codefresh.io\/docker-tutorial\/useful-tricks-clean-docker-dev-environment\/\" \/>\n<meta property=\"og:site_name\" content=\"Codefresh\" \/>\n<meta property=\"article:publisher\" content=\"https:\/\/www.facebook.com\/codefresh.io\" \/>\n<meta property=\"article:published_time\" content=\"2016-08-23T21:09:01+00:00\" \/>\n<meta property=\"article:modified_time\" content=\"2022-02-11T18:04:24+00:00\" \/>\n<meta property=\"og:image\" content=\"https:\/\/codefresh.io\/wp-content\/uploads\/2016\/08\/holding-up-container-for-blog.png\" \/>\n\t<meta property=\"og:image:width\" content=\"640\" \/>\n\t<meta property=\"og:image:height\" content=\"308\" \/>\n\t<meta property=\"og:image:type\" content=\"image\/png\" \/>\n<meta name=\"twitter:card\" content=\"summary_large_image\" \/>\n<meta name=\"twitter:creator\" content=\"@antweiss\" \/>\n<meta name=\"twitter:site\" content=\"@codefresh\" \/>\n<meta name=\"twitter:label1\" content=\"Written by\" \/>\n\t<meta name=\"twitter:data1\" content=\"Anton Weiss\" \/>\n\t<meta name=\"twitter:label2\" content=\"Est. reading time\" \/>\n\t<meta name=\"twitter:data2\" content=\"1 minute\" \/>\n<script type=\"application\/ld+json\" class=\"yoast-schema-graph\">{\"@context\":\"https:\/\/schema.org\",\"@graph\":[{\"@type\":\"Organization\",\"@id\":\"https:\/\/codefresh.io\/#organization\",\"name\":\"Codefresh\",\"url\":\"https:\/\/codefresh.io\/\",\"sameAs\":[\"https:\/\/www.facebook.com\/codefresh.io\",\"https:\/\/www.linkedin.com\/company\/codefresh\",\"https:\/\/www.youtube.com\/channel\/UC9r94SY6BqN05kXPIHsDXPg\",\"https:\/\/twitter.com\/codefresh\"],\"logo\":{\"@type\":\"ImageObject\",\"@id\":\"https:\/\/codefresh.io\/#logo\",\"inLanguage\":\"en-US\",\"url\":\"https:\/\/codefresh.io\/wp-content\/uploads\/2022\/02\/Codefresh_Logo_Vertical_LightBkgd.png\",\"contentUrl\":\"https:\/\/codefresh.io\/wp-content\/uploads\/2022\/02\/Codefresh_Logo_Vertical_LightBkgd.png\",\"width\":800,\"height\":800,\"caption\":\"Codefresh\"},\"image\":{\"@id\":\"https:\/\/codefresh.io\/#logo\"}},{\"@type\":\"WebSite\",\"@id\":\"https:\/\/codefresh.io\/#website\",\"url\":\"https:\/\/codefresh.io\/\",\"name\":\"Codefresh\",\"description\":\"\",\"publisher\":{\"@id\":\"https:\/\/codefresh.io\/#organization\"},\"potentialAction\":[{\"@type\":\"SearchAction\",\"target\":{\"@type\":\"EntryPoint\",\"urlTemplate\":\"https:\/\/codefresh.io\/?s={search_term_string}\"},\"query-input\":\"required name=search_term_string\"}],\"inLanguage\":\"en-US\"},{\"@type\":\"ImageObject\",\"@id\":\"https:\/\/codefresh.io\/docker-tutorial\/useful-tricks-clean-docker-dev-environment\/#primaryimage\",\"inLanguage\":\"en-US\",\"url\":\"https:\/\/codefresh.io\/wp-content\/uploads\/2016\/08\/holding-up-container-for-blog.png\",\"contentUrl\":\"https:\/\/codefresh.io\/wp-content\/uploads\/2016\/08\/holding-up-container-for-blog.png\",\"width\":640,\"height\":308},{\"@type\":\"WebPage\",\"@id\":\"https:\/\/codefresh.io\/docker-tutorial\/useful-tricks-clean-docker-dev-environment\/#webpage\",\"url\":\"https:\/\/codefresh.io\/docker-tutorial\/useful-tricks-clean-docker-dev-environment\/\",\"name\":\"Useful tricks to clean up your Docker dev environment | Codefresh\",\"isPartOf\":{\"@id\":\"https:\/\/codefresh.io\/#website\"},\"primaryImageOfPage\":{\"@id\":\"https:\/\/codefresh.io\/docker-tutorial\/useful-tricks-clean-docker-dev-environment\/#primaryimage\"},\"datePublished\":\"2016-08-23T21:09:01+00:00\",\"dateModified\":\"2022-02-11T18:04:24+00:00\",\"breadcrumb\":{\"@id\":\"https:\/\/codefresh.io\/docker-tutorial\/useful-tricks-clean-docker-dev-environment\/#breadcrumb\"},\"inLanguage\":\"en-US\",\"potentialAction\":[{\"@type\":\"ReadAction\",\"target\":[\"https:\/\/codefresh.io\/docker-tutorial\/useful-tricks-clean-docker-dev-environment\/\"]}]},{\"@type\":\"BreadcrumbList\",\"@id\":\"https:\/\/codefresh.io\/docker-tutorial\/useful-tricks-clean-docker-dev-environment\/#breadcrumb\",\"itemListElement\":[{\"@type\":\"ListItem\",\"position\":1,\"name\":\"Home\",\"item\":\"https:\/\/codefresh.io\/\"},{\"@type\":\"ListItem\",\"position\":2,\"name\":\"Useful tricks to clean up your Docker dev environment\"}]},{\"@type\":\"Article\",\"@id\":\"https:\/\/codefresh.io\/docker-tutorial\/useful-tricks-clean-docker-dev-environment\/#article\",\"isPartOf\":{\"@id\":\"https:\/\/codefresh.io\/docker-tutorial\/useful-tricks-clean-docker-dev-environment\/#webpage\"},\"author\":{\"@id\":\"https:\/\/codefresh.io\/#\/schema\/person\/93d9834241a4b1b862a21e1d9a42a39f\"},\"headline\":\"Useful tricks to clean up your Docker dev environment\",\"datePublished\":\"2016-08-23T21:09:01+00:00\",\"dateModified\":\"2022-02-11T18:04:24+00:00\",\"mainEntityOfPage\":{\"@id\":\"https:\/\/codefresh.io\/docker-tutorial\/useful-tricks-clean-docker-dev-environment\/#webpage\"},\"wordCount\":271,\"commentCount\":8,\"publisher\":{\"@id\":\"https:\/\/codefresh.io\/#organization\"},\"image\":{\"@id\":\"https:\/\/codefresh.io\/docker-tutorial\/useful-tricks-clean-docker-dev-environment\/#primaryimage\"},\"thumbnailUrl\":\"https:\/\/codefresh.io\/wp-content\/uploads\/2016\/08\/holding-up-container-for-blog.png\",\"keywords\":[\"docker\"],\"articleSection\":[\"Docker Tutorials\"],\"inLanguage\":\"en-US\",\"potentialAction\":[{\"@type\":\"CommentAction\",\"name\":\"Comment\",\"target\":[\"https:\/\/codefresh.io\/docker-tutorial\/useful-tricks-clean-docker-dev-environment\/#respond\"]}]},{\"@type\":\"Person\",\"@id\":\"https:\/\/codefresh.io\/#\/schema\/person\/93d9834241a4b1b862a21e1d9a42a39f\",\"name\":\"Anton Weiss\",\"image\":{\"@type\":\"ImageObject\",\"@id\":\"https:\/\/codefresh.io\/#personlogo\",\"inLanguage\":\"en-US\",\"url\":\"https:\/\/secure.gravatar.com\/avatar\/74279e1c79e1997c40057ee2c54a6454?s=96&d=blank&r=g\",\"contentUrl\":\"https:\/\/secure.gravatar.com\/avatar\/74279e1c79e1997c40057ee2c54a6454?s=96&d=blank&r=g\",\"caption\":\"Anton Weiss\"},\"description\":\"Ant(on) Weiss is a DevOps Evangelist and Enabler. He's been architecting software delivery processes at large and small companies for the last 15 years. Today he's the CEO and Principal Consultant at Otomato. When not evangelising for Codefresh, he's deeply involved with technical training and public speaking.\",\"sameAs\":[\"http:\/\/antweiss.com\",\"https:\/\/twitter.com\/antweiss\"],\"url\":\"https:\/\/codefresh.io\/author\/anton\/\"}]}<\/script>\n<!-- \/ Yoast SEO Premium plugin. -->","yoast_head_json":{"title":"Useful tricks to clean up your Docker dev environment | Codefresh","robots":{"index":"index","follow":"follow","max-snippet":"max-snippet:-1","max-image-preview":"max-image-preview:large","max-video-preview":"max-video-preview:-1"},"canonical":"https:\/\/codefresh.io\/docker-tutorial\/useful-tricks-clean-docker-dev-environment\/","og_locale":"en_US","og_type":"article","og_title":"Useful tricks to clean up your Docker dev environment","og_description":"Many of us who develop\u00a0with Docker often\u00a0find\u00a0that we are: Building layers upon layers of \u00a0images Running\u00a0a whole fleet\u00a0of containers originating from\u00a0various base images and\u00a0different versions of our own apps After all, being able to quickly build, spin up and test various code and environment combinations is\u00a0one\u00a0of the greatest benefits of container-based development.\u00a0And there&#8217;s no better &hellip; Read more","og_url":"https:\/\/codefresh.io\/docker-tutorial\/useful-tricks-clean-docker-dev-environment\/","og_site_name":"Codefresh","article_publisher":"https:\/\/www.facebook.com\/codefresh.io","article_published_time":"2016-08-23T21:09:01+00:00","article_modified_time":"2022-02-11T18:04:24+00:00","og_image":[{"width":640,"height":308,"url":"https:\/\/codefresh.io\/wp-content\/uploads\/2016\/08\/holding-up-container-for-blog.png","type":"image\/png"}],"twitter_card":"summary_large_image","twitter_creator":"@antweiss","twitter_site":"@codefresh","twitter_misc":{"Written by":"Anton Weiss","Est. reading time":"1 minute"},"schema":{"@context":"https:\/\/schema.org","@graph":[{"@type":"Organization","@id":"https:\/\/codefresh.io\/#organization","name":"Codefresh","url":"https:\/\/codefresh.io\/","sameAs":["https:\/\/www.facebook.com\/codefresh.io","https:\/\/www.linkedin.com\/company\/codefresh","https:\/\/www.youtube.com\/channel\/UC9r94SY6BqN05kXPIHsDXPg","https:\/\/twitter.com\/codefresh"],"logo":{"@type":"ImageObject","@id":"https:\/\/codefresh.io\/#logo","inLanguage":"en-US","url":"https:\/\/codefresh.io\/wp-content\/uploads\/2022\/02\/Codefresh_Logo_Vertical_LightBkgd.png","contentUrl":"https:\/\/codefresh.io\/wp-content\/uploads\/2022\/02\/Codefresh_Logo_Vertical_LightBkgd.png","width":800,"height":800,"caption":"Codefresh"},"image":{"@id":"https:\/\/codefresh.io\/#logo"}},{"@type":"WebSite","@id":"https:\/\/codefresh.io\/#website","url":"https:\/\/codefresh.io\/","name":"Codefresh","description":"","publisher":{"@id":"https:\/\/codefresh.io\/#organization"},"potentialAction":[{"@type":"SearchAction","target":{"@type":"EntryPoint","urlTemplate":"https:\/\/codefresh.io\/?s={search_term_string}"},"query-input":"required name=search_term_string"}],"inLanguage":"en-US"},{"@type":"ImageObject","@id":"https:\/\/codefresh.io\/docker-tutorial\/useful-tricks-clean-docker-dev-environment\/#primaryimage","inLanguage":"en-US","url":"https:\/\/codefresh.io\/wp-content\/uploads\/2016\/08\/holding-up-container-for-blog.png","contentUrl":"https:\/\/codefresh.io\/wp-content\/uploads\/2016\/08\/holding-up-container-for-blog.png","width":640,"height":308},{"@type":"WebPage","@id":"https:\/\/codefresh.io\/docker-tutorial\/useful-tricks-clean-docker-dev-environment\/#webpage","url":"https:\/\/codefresh.io\/docker-tutorial\/useful-tricks-clean-docker-dev-environment\/","name":"Useful tricks to clean up your Docker dev environment | Codefresh","isPartOf":{"@id":"https:\/\/codefresh.io\/#website"},"primaryImageOfPage":{"@id":"https:\/\/codefresh.io\/docker-tutorial\/useful-tricks-clean-docker-dev-environment\/#primaryimage"},"datePublished":"2016-08-23T21:09:01+00:00","dateModified":"2022-02-11T18:04:24+00:00","breadcrumb":{"@id":"https:\/\/codefresh.io\/docker-tutorial\/useful-tricks-clean-docker-dev-environment\/#breadcrumb"},"inLanguage":"en-US","potentialAction":[{"@type":"ReadAction","target":["https:\/\/codefresh.io\/docker-tutorial\/useful-tricks-clean-docker-dev-environment\/"]}]},{"@type":"BreadcrumbList","@id":"https:\/\/codefresh.io\/docker-tutorial\/useful-tricks-clean-docker-dev-environment\/#breadcrumb","itemListElement":[{"@type":"ListItem","position":1,"name":"Home","item":"https:\/\/codefresh.io\/"},{"@type":"ListItem","position":2,"name":"Useful tricks to clean up your Docker dev environment"}]},{"@type":"Article","@id":"https:\/\/codefresh.io\/docker-tutorial\/useful-tricks-clean-docker-dev-environment\/#article","isPartOf":{"@id":"https:\/\/codefresh.io\/docker-tutorial\/useful-tricks-clean-docker-dev-environment\/#webpage"},"author":{"@id":"https:\/\/codefresh.io\/#\/schema\/person\/93d9834241a4b1b862a21e1d9a42a39f"},"headline":"Useful tricks to clean up your Docker dev environment","datePublished":"2016-08-23T21:09:01+00:00","dateModified":"2022-02-11T18:04:24+00:00","mainEntityOfPage":{"@id":"https:\/\/codefresh.io\/docker-tutorial\/useful-tricks-clean-docker-dev-environment\/#webpage"},"wordCount":271,"commentCount":8,"publisher":{"@id":"https:\/\/codefresh.io\/#organization"},"image":{"@id":"https:\/\/codefresh.io\/docker-tutorial\/useful-tricks-clean-docker-dev-environment\/#primaryimage"},"thumbnailUrl":"https:\/\/codefresh.io\/wp-content\/uploads\/2016\/08\/holding-up-container-for-blog.png","keywords":["docker"],"articleSection":["Docker Tutorials"],"inLanguage":"en-US","potentialAction":[{"@type":"CommentAction","name":"Comment","target":["https:\/\/codefresh.io\/docker-tutorial\/useful-tricks-clean-docker-dev-environment\/#respond"]}]},{"@type":"Person","@id":"https:\/\/codefresh.io\/#\/schema\/person\/93d9834241a4b1b862a21e1d9a42a39f","name":"Anton Weiss","image":{"@type":"ImageObject","@id":"https:\/\/codefresh.io\/#personlogo","inLanguage":"en-US","url":"https:\/\/secure.gravatar.com\/avatar\/74279e1c79e1997c40057ee2c54a6454?s=96&d=blank&r=g","contentUrl":"https:\/\/secure.gravatar.com\/avatar\/74279e1c79e1997c40057ee2c54a6454?s=96&d=blank&r=g","caption":"Anton Weiss"},"description":"Ant(on) Weiss is a DevOps Evangelist and Enabler. He's been architecting software delivery processes at large and small companies for the last 15 years. Today he's the CEO and Principal Consultant at Otomato. When not evangelising for Codefresh, he's deeply involved with technical training and public speaking.","sameAs":["http:\/\/antweiss.com","https:\/\/twitter.com\/antweiss"],"url":"https:\/\/codefresh.io\/author\/anton\/"}]}},"acf":[],"_links":{"self":[{"href":"https:\/\/codefresh.io\/wp-json\/wp\/v2\/posts\/722"}],"collection":[{"href":"https:\/\/codefresh.io\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/codefresh.io\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/codefresh.io\/wp-json\/wp\/v2\/users\/9"}],"replies":[{"embeddable":true,"href":"https:\/\/codefresh.io\/wp-json\/wp\/v2\/comments?post=722"}],"version-history":[{"count":1,"href":"https:\/\/codefresh.io\/wp-json\/wp\/v2\/posts\/722\/revisions"}],"predecessor-version":[{"id":21467,"href":"https:\/\/codefresh.io\/wp-json\/wp\/v2\/posts\/722\/revisions\/21467"}],"wp:featuredmedia":[{"embeddable":true,"href":"https:\/\/codefresh.io\/wp-json\/wp\/v2\/media\/797"}],"wp:attachment":[{"href":"https:\/\/codefresh.io\/wp-json\/wp\/v2\/media?parent=722"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/codefresh.io\/wp-json\/wp\/v2\/categories?post=722"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/codefresh.io\/wp-json\/wp\/v2\/tags?post=722"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}