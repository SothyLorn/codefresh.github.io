{"id":8155,"date":"2018-04-18T18:22:33","date_gmt":"2018-04-18T18:22:33","guid":{"rendered":"http:\/\/codefresh.io\/?p=8155"},"modified":"2018-08-23T17:19:51","modified_gmt":"2018-08-23T17:19:51","slug":"deploying-docker-example-voting-app-helm","status":"publish","type":"post","link":"https:\/\/codefresh.io\/howtos\/deploying-docker-example-voting-app-helm\/","title":{"rendered":"Deploying Docker&#8217;s Example Voting App with Helm"},"content":{"rendered":"<p>We&#8217;ve had many customers ask us for micro-service applications that they can deploy with HELM to Kubernetes, so we&#8217;ve created a demo app that you can access yourself.<\/p>\n<p>This walk How-To is meant to walk you through configuring Codefresh pipelines to build and deploy Docker&#8217;s Example Voting App as a Helm Release to your Kubernetes cluster.<\/p>\n<p>Spoiler alert, it\u2019s gonna be a long article. To follow along, <strong><a href=\"https:\/\/codefresh.io\/codefresh-signup\/?utm_source=Blog&amp;utm_medium=Post&amp;utm_campaign=depDocT\">please create a free Codefresh account<\/a><\/strong> by adding one of your repos, and start building, testing and deploying Docker images instantly.<\/p>\n<p>This is Part 1 of an ongoing series of How-Tos on our way to the <em>Perfect Pipeline*<\/em>.<\/p>\n<p>What we will accomplish:<\/p>\n<ol>\n<li>Connecting your Kubernetes cluster to Codefresh<\/li>\n<li>Setting up your Kubernetes cluster for private Docker registry<\/li>\n<li>Creating a Codefresh Matrix Pipeline to build result, vote and worker Docker images in Parallel and push them to a private Docker registry.<\/li>\n<li>Adding a build step to deploy the Voting App Helm chart as a Helm Release to your Kubernetes cluster that pulls Docker images for the <em>(3)**<\/em> micro-services from your private Docker registry.<\/li>\n<\/ol>\n<p>Some of you might have already seen Docker&#8217;s Example Voting App.  Maybe, even deployed it yourself locally using docker-compose.<\/p>\n<p>If you haven&#8217;t, see screen shots below that detail the architecture and the web pages.<\/p>\n<p><img src=\"https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/example-voting-app-architecture.png\" alt=\"\" width=\"1024\" height=\"768\" class=\"alignnone size-full wp-image-8156\" srcset=\"https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/example-voting-app-architecture.png 1024w, https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/example-voting-app-architecture-300x225.png 300w, https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/example-voting-app-architecture-768x576.png 768w, https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/example-voting-app-architecture-437x328.png 437w\" sizes=\"(max-width: 1024px) 100vw, 1024px\" \/><\/p>\n<p><img src=\"https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-18-at-9.27.29-AM.png\" alt=\"\" width=\"704\" height=\"832\" class=\"alignnone size-full wp-image-8157\" srcset=\"https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-18-at-9.27.29-AM.png 704w, https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-18-at-9.27.29-AM-254x300.png 254w, https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-18-at-9.27.29-AM-278x328.png 278w\" sizes=\"(max-width: 704px) 100vw, 704px\" \/><\/p>\n<p><img src=\"https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-18-at-9.27.43-AM.png\" alt=\"\" width=\"1380\" height=\"834\" class=\"alignnone size-full wp-image-8158\" srcset=\"https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-18-at-9.27.43-AM.png 1380w, https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-18-at-9.27.43-AM-300x181.png 300w, https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-18-at-9.27.43-AM-768x464.png 768w, https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-18-at-9.27.43-AM-1024x619.png 1024w, https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-18-at-9.27.43-AM-543x328.png 543w\" sizes=\"(max-width: 1380px) 100vw, 1380px\" \/><\/p>\n<p>For Codefresh&#8217;s take on Docker&#8217;s Example Voting App we&#8217;ve added the following:<\/p>\n<ul>\n<li>codefresh.yml files for the code defined build definitions for each micro-services and for the matrix pipeline.<\/li>\n<li>Helm chart for the entire application known as a chart of charts that relies on <em>(3)**<\/em> charts for each micro-service and community Postgres and Redis charts.<\/li>\n<li>We had to make a couple minor changes to the code to support authentication with Postgres.<\/li>\n<\/ul>\n<p>Now let&#8217;s dig in and configure this!<\/p>\n<p>First if you are on the Free Tier you won&#8217;t be able to execute the matrix pipeline to take advantage of the parallel builds.  The setup is the same but instead of executing the matrix build to build and deploy you will execute each micro-service pipeline 1 by 1 and you&#8217;ll need to remove the <code>BuildMicroServices<\/code> build step from your <code>codefresh-matrix-pipeline.yml<\/code> then you can run the matrix pipeline to perform a Helm release.<\/p>\n<p>If you are interested in a PoC with access to additional concurrent builds to try this using parallel pipelines please <a href=\"https:\/\/codefresh.io\/request-a-demo1\/\">reach out to our Sales team<\/a>.<\/p>\n<h2>Creating Codefresh pipelines<\/h2>\n<p>PreReqs:<\/p>\n<ul>\n<li><a href=\"https:\/\/g.codefresh.io\/signup\" rel=\"noopener\" target=\"_blank\">Codefresh Account<\/a><\/li>\n<li><a href=\"https:\/\/kubernetes.io\/\" rel=\"noopener\" target=\"_blank\">Kubernetes cluster<\/a><\/li>\n<\/ul>\n<p>Links to some popular Kubernetes options<\/p>\n<ul>\n<li><a href=\"https:\/\/github.com\/kubernetes\/kops\" rel=\"noopener\" target=\"_blank\">Amazon KOPs<\/a> <a href=\"http:\/\/codefresh.io\/kubernetes-tutorial\/tutorial-deploying-kubernetes-to-aws-using-kops\/\" rel=\"noopener\" target=\"_blank\">Codefresh KOPs Tutorial<\/a><\/li>\n<li><a href=\"https:\/\/aws.amazon.com\/eks\/\" rel=\"noopener\" target=\"_blank\">Amazon EKS (Preview)<\/a><\/li>\n<li><a href=\"https:\/\/docs.microsoft.com\/en-us\/azure\/container-service\/kubernetes\/container-service-kubernetes-walkthrough\" rel=\"noopener\" target=\"_blank\">Azure Container Service (Moving to AKS)<\/a><\/li>\n<li><a href=\"https:\/\/docs.microsoft.com\/en-us\/azure\/aks\/\" rel=\"noopener\" target=\"_blank\">Azure Kubernetes Service (Preview)<\/a> <a href=\"http:\/\/codefresh.io\/webinars\/devops_kubernetes_helm\/\" rel=\"noopener\" target=\"_blank\">Codefresh Azure AKS Webinar<\/a><\/li>\n<li><a href=\"https:\/\/cloud.google.com\/kubernetes-engine\/\" rel=\"noopener\" target=\"_blank\">Google Kubernetes Engine GKE<\/a> <a href=\"http:\/\/codefresh.io\/kubernetes-guides\/get-first-app-running-kubernetes-codefresh-google-container-engine\/\" rel=\"noopener\" target=\"_blank\">Codefresh GKE Tutorial<\/a><\/li>\n<li><a href=\"https:\/\/www.ibm.com\/cloud\/container-service\" rel=\"noopener\" target=\"_blank\">IBM Cloud Container Service<\/a><\/li>\n<li><a href=\"https:\/\/stackpoint.io\/\" rel=\"noopener\" target=\"_blank\">Stackpoint Cloud<\/a><\/li>\n<\/ul>\n<p>Fork the repository below:<\/p>\n<ul>\n<li><a href=\"https:\/\/github.com\/codefresh-io\/example-voting-app\" rel=\"noopener\" target=\"_blank\">Github Repository<\/a><br \/>\nhttps:\/\/github.com\/codefresh-io\/example-voting-app<\/li>\n<\/ul>\n<hr \/>\n<p>Either <a href=\"https:\/\/help.github.com\/articles\/fork-a-repo\/\" rel=\"noopener\" target=\"_blank\">Fork<\/a> or copy this repositories content to your Github Account or a GIT repository in another Version Control System.<\/p>\n<p>Change branch to <code>how-to-helm-deploy<\/code> &lt;- this branch contains only helm deploy nothing else.  If you choose to use <code>master<\/code> there will be more and more added to that branch as work progresses on the Perfect Pipeline*.<\/p>\n<h2><a href=\"https:\/\/codefresh.io\/docs\/docs\/deploy-to-kubernetes\/adding-non-gke-kubernetes-cluster\/\" rel=\"noopener\" target=\"_blank\">Attach Kubernetes Cluster to Codefresh<\/a><\/h2>\n<p>You&#8217;ll need to configure your Kubernetes cluster in Codefresh.  See link above.<\/p>\n<h2>Setup Docker Registry Pull Secret in Kubernetes<\/h2>\n<p>If you&#8217;d like to add your own Docker Registry click the link below for instructions.<\/p>\n<ul>\n<li><a href=\"https:\/\/codefresh.io\/docs\/docs\/docker-registries\/external-docker-registries\/\" rel=\"noopener\" target=\"_blank\">Add Docker Registry to Codefresh<\/a><\/li>\n<\/ul>\n<p>If you want to use your Codefresh Integrated Docker Registry click the link below.<\/p>\n<ul>\n<li><a href=\"https:\/\/codefresh.io\/docs\/docs\/docker-registries\/codefresh-registry\/#generate-cfcr-login-token\" rel=\"noopener\" target=\"_blank\">Generate CFCR Login Token<\/a><\/li>\n<\/ul>\n<p>Example commands below use cfcr (Codefresh Integrated Registry).  Update if you decide to use your own Docker Registry.<br \/>\nClick the link below for additional information on Kubernetes Pull Secrets.<\/p>\n<ul>\n<li><a href=\"https:\/\/kubernetes.io\/docs\/tasks\/configure-pod-container\/pull-image-private-registry\/\" rel=\"noopener\" target=\"_blank\">Configure Kubernetes namespace with Pull Secret<\/a><\/li>\n<\/ul>\n<p>Command to create Pull Secret<\/p>\n<ul>\n<li>Replace kubernetes_namespace with name for your Kubernetes namespace ex. default<\/li>\n<li>Replace secret_name with name given to secret ex. cfcr<\/li>\n<li>Replace docker_server with name for Docker Registry server ex. r.cfcr.io <\/li>\n<li>Replace docker_username with your Docker Registry Username for this example. Codefresh Username ex. dustinvanbuskirk<\/li>\n<li>Replace docker_password with your Docker Registry Password for this example. Codefresh Registry Token ex. 56f7c362746f1f6fdf261803875a1571<\/li>\n<li>Replace service_account_name with name for your Kubernetes Service Account ex. default<\/li>\n<\/ul>\n<pre><code class=\"sh\">kubectl create secret docker-registry -n kubenetes_namespace secret_name  --docker-server=docker_server --docker-username=docker_username  --docker-password=docker_password --docker-email=docker_email\n<\/code><\/pre>\n<p>Command to patch Service Account with Pull Secret<\/p>\n<pre><code class=\"sh\">kubectl patch serviceaccount service_account_name -p \"{\\\"imagePullSecrets\\\": [{\\\"name\\\": \\\"cfcr\\\"}]}\" -n kubernetes_namespace\n<\/code><\/pre>\n<h2>Create <a href=\"https:\/\/codefresh-io.github.io\/cli\/getting-started\/\" rel=\"noopener\" target=\"_blank\">Codefresh CLI<\/a> Key<\/h2>\n<ol>\n<li>Create <a href=\"https:\/\/g.codefresh.io\/account\/tokens\" rel=\"noopener\" target=\"_blank\">API key in Codefresh<\/a><\/li>\n<li>Click GENERATE button.<\/li>\n<li>Copy key to safe location for later use in <code>CODEFRESH_CLI_KEY<\/code> variable.<\/li>\n<\/ol>\n<h2>Update YAML files<\/h2>\n<p>If you decided not use <code>cfcr<\/code> as your Docker Registry then you can skip this step.<\/p>\n<p>Edit the Codefresh YAML in <code>.\/result<\/code>, <code>.\/vote<\/code> and <code>.\/worker<\/code> directories with your friendly Docker registry name for registry in YAML.<\/p>\n<h2>Create Codefresh pipelines<\/h2>\n<p>In Codefresh add a new Repository and select <code>example-voting-app<\/code><\/p>\n<ol>\n<li>Click Add New Repository button from Repositories screen.<br \/>\n<img src=\"https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-12.28.51-PM.png\" alt=\"\" width=\"1022\" height=\"488\" class=\"alignnone size-full wp-image-8164\" srcset=\"https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-12.28.51-PM.png 1022w, https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-12.28.51-PM-300x143.png 300w, https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-12.28.51-PM-768x367.png 768w, https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-12.28.51-PM-628x300.png 628w\" sizes=\"(max-width: 1022px) 100vw, 1022px\" \/><\/li>\n<li>Select the example-voting-app repository you forked or clone to your VCS\/Organization. (master branch if fine) Then click NEXT button.<br \/>\n<img src=\"https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-12.29.12-PM.png\" alt=\"\" width=\"1796\" height=\"722\" class=\"alignnone size-full wp-image-8165\" srcset=\"https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-12.29.12-PM.png 1796w, https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-12.29.12-PM-300x121.png 300w, https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-12.29.12-PM-768x309.png 768w, https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-12.29.12-PM-1024x412.png 1024w, https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-12.29.12-PM-628x252.png 628w\" sizes=\"(max-width: 1796px) 100vw, 1796px\" \/><\/li>\n<li>Click SELECT for CODEFRESH.YML option.<br \/>\n<img src=\"https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-12.30.17-PM.png\" alt=\"\" width=\"1036\" height=\"1006\" class=\"alignnone size-full wp-image-8166\" srcset=\"https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-12.30.17-PM.png 1036w, https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-12.30.17-PM-300x291.png 300w, https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-12.30.17-PM-768x746.png 768w, https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-12.30.17-PM-1024x994.png 1024w, https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-12.30.17-PM-338x328.png 338w\" sizes=\"(max-width: 1036px) 100vw, 1036px\" \/><\/li>\n<li>Update PATH TO CODEFRESH.YML with <code>.\/codefresh-matrix-pipeline.yml<\/code>. Then click NEXT button.<br \/>\n<img src=\"https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-12.31.14-PM.png\" alt=\"\" width=\"1792\" height=\"1200\" class=\"alignnone size-full wp-image-8167\" srcset=\"https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-12.31.14-PM.png 1792w, https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-12.31.14-PM-300x201.png 300w, https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-12.31.14-PM-768x514.png 768w, https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-12.31.14-PM-1024x686.png 1024w, https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-12.31.14-PM-490x328.png 490w\" sizes=\"(max-width: 1792px) 100vw, 1792px\" \/><\/li>\n<li>Review Codefresh YAML. Then click CREATE button.<br \/>\n<img src=\"https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-18-at-9.58.15-AM.png\" alt=\"\" width=\"1794\" height=\"1204\" class=\"alignnone size-full wp-image-8169\" srcset=\"https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-18-at-9.58.15-AM.png 1794w, https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-18-at-9.58.15-AM-300x201.png 300w, https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-18-at-9.58.15-AM-768x515.png 768w, https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-18-at-9.58.15-AM-1024x687.png 1024w, https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-18-at-9.58.15-AM-489x328.png 489w\" sizes=\"(max-width: 1794px) 100vw, 1794px\" \/><\/p>\n<\/li>\n<li>\n<p>Click CREATE_PIPELINE button.<br \/>\n<img src=\"https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-12.36.33-PM.png\" alt=\"\" width=\"1798\" height=\"1116\" class=\"alignnone size-full wp-image-8168\" srcset=\"https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-12.36.33-PM.png 1798w, https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-12.36.33-PM-300x186.png 300w, https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-12.36.33-PM-768x477.png 768w, https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-12.36.33-PM-1024x636.png 1024w, https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-12.36.33-PM-528x328.png 528w\" sizes=\"(max-width: 1798px) 100vw, 1798px\" \/><\/p>\n<\/li>\n<\/ol>\n<p>You&#8217;ll arrive at the <code>example-voting-app<\/code> pipeline.<br \/>\n<img src=\"https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-12.38.02-PM.png\" alt=\"\" width=\"414\" height=\"448\" class=\"alignnone size-full wp-image-8170\" srcset=\"https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-12.38.02-PM.png 414w, https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-12.38.02-PM-277x300.png 277w, https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-12.38.02-PM-303x328.png 303w\" sizes=\"(max-width: 414px) 100vw, 414px\" \/><\/p>\n<p>Now we need to configure some Environment Variables for the Repository.<\/p>\n<ol>\n<li>Click on General tab in the <code>example-voting-app<\/code> Repository page.<br \/>\n<img src=\"https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-12.47.31-PM.png\" alt=\"\" width=\"2278\" height=\"1042\" class=\"alignnone size-full wp-image-8171\" srcset=\"https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-12.47.31-PM.png 2278w, https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-12.47.31-PM-300x137.png 300w, https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-12.47.31-PM-768x351.png 768w, https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-12.47.31-PM-1024x468.png 1024w, https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-12.47.31-PM-628x287.png 628w\" sizes=\"(max-width: 2278px) 100vw, 2278px\" \/><\/li>\n<li>Add the following variables below. (Encrypt the sensitive variables). Click ADD VARIABLE link after every variable to add.<\/li>\n<li><code>CODEFRESH_ACCOUNT<\/code> Your Codefresh Account Name (shown in lower left of Codefresh UI). If you chose to use CFCR<\/li>\n<li><code>CODEFRESH_CLI_KEY<\/code> Your <a href=\"https:\/\/codefresh-io.github.io\/cli\/getting-started\/\" rel=\"noopener\" target=\"_blank\">Codefresh CLI<\/a> <a href=\"https:\/\/g.codefresh.io\/account\/tokens\" rel=\"noopener\" target=\"_blank\">Key<\/a> ENCRYPT.<\/li>\n<li><code>KUBE_CONTEXT<\/code> Your friendly <a href=\"https:\/\/g.codefresh.io\/account\/integration\/kubernetes\" rel=\"noopener\" target=\"_blank\">Kubernetes Cluster Name<\/a> to use for release.<\/li>\n<li><code>KUBE_NAMESPACE<\/code> Kubernetes namespace to use for release.<\/li>\n<li><code>KUBE_PULL_SECRET<\/code> Kubernetes Pull Secret name.<br \/>\n<img src=\"https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-1.06.05-PM.png\" alt=\"\" width=\"1514\" height=\"1290\" class=\"alignnone size-full wp-image-8172\" srcset=\"https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-1.06.05-PM.png 1514w, https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-1.06.05-PM-300x256.png 300w, https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-1.06.05-PM-768x654.png 768w, https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-1.06.05-PM-1024x872.png 1024w, https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-1.06.05-PM-385x328.png 385w\" sizes=\"(max-width: 1514px) 100vw, 1514px\" \/><\/li>\n<\/ol>\n<p>The matrix pipeline is already configured and named after your GIT repository <code>example-voting-app<\/code>.<\/p>\n<p>We need to setup the following <em>(3)**<\/em> pipelines.<br \/>\nFrom Pipelines page of <code>example-voting-app<\/code> repository.<br \/>\n1. Click ADD PIPELINE (do this 3 times)<br \/>\n<img src=\"https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-1.08.25-PM.png\" alt=\"\" width=\"824\" height=\"462\" class=\"alignnone size-full wp-image-8173\" srcset=\"https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-1.08.25-PM.png 824w, https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-1.08.25-PM-300x168.png 300w, https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-1.08.25-PM-768x431.png 768w, https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-1.08.25-PM-585x328.png 585w\" sizes=\"(max-width: 824px) 100vw, 824px\" \/><br \/>\nSee screen shots below outlining steps.<br \/>\n2. Name <code>example-voting-app1<\/code> to <code>example-voting-app-result<\/code>; Set WORKFLOW to YAML, Set Use YAML from Repository; Edit PATH_TO_YAML <code>.\/result\/codefresh-result-pipeline.yml<\/code>; Click SAVE button at bottom of page.<br \/>\n3. Name <code>example-voting-app2<\/code> to <code>example-voting-app-vote<\/code>; Set WORKFLOW to YAML, Set Use YAML from Repository; Edit PATH_TO_YAML <code>.\/vote\/codefresh-vote-pipeline.yml<\/code>; Click SAVE button at bottom of page.<br \/>\n4. Name <code>example-voting-app3<\/code> to <code>example-voting-app-worker<\/code>; Set WORKFLOW to YAML, Set Use YAML from Repository; Edit PATH_TO_YAML <code>.\/worker\/codefresh-worker-pipeline.yml<\/code>; Click SAVE button at bottom of page.<\/p>\n<p><img src=\"https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-1.16.05-PM.png\" alt=\"\" width=\"2048\" height=\"248\" class=\"alignnone size-full wp-image-8176\" srcset=\"https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-1.16.05-PM.png 2048w, https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-1.16.05-PM-300x36.png 300w, https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-1.16.05-PM-768x93.png 768w, https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-1.16.05-PM-1024x124.png 1024w, https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-1.16.05-PM-628x76.png 628w\" sizes=\"(max-width: 2048px) 100vw, 2048px\" \/><\/p>\n<p><img src=\"https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-1.11.24-PM.png\" alt=\"\" width=\"2270\" height=\"506\" class=\"alignnone size-full wp-image-8175\" srcset=\"https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-1.11.24-PM.png 2270w, https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-1.11.24-PM-300x67.png 300w, https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-1.11.24-PM-768x171.png 768w, https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-1.11.24-PM-1024x228.png 1024w, https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-1.11.24-PM-628x140.png 628w\" sizes=\"(max-width: 2270px) 100vw, 2270px\" \/><\/p>\n<p><img src=\"https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-1.11.10-PM.png\" alt=\"\" width=\"2348\" height=\"292\" class=\"alignnone size-full wp-image-8174\" srcset=\"https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-1.11.10-PM.png 2348w, https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-1.11.10-PM-300x37.png 300w, https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-1.11.10-PM-768x96.png 768w, https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-1.11.10-PM-1024x127.png 1024w, https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-1.11.10-PM-628x78.png 628w\" sizes=\"(max-width: 2348px) 100vw, 2348px\" \/><\/p>\n<p>Now we need to get your Codefresh Pipeline IDs to setup parallel builds.<\/p>\n<p>Two options:<br \/>\n* CLI<br \/>\n1. <code>codefresh get pipelines<\/code><br \/>\n<img src=\"https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-18-at-10.06.15-AM.png\" alt=\"\" width=\"1608\" height=\"360\" class=\"alignnone size-full wp-image-8178\" srcset=\"https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-18-at-10.06.15-AM.png 1608w, https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-18-at-10.06.15-AM-300x67.png 300w, https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-18-at-10.06.15-AM-768x172.png 768w, https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-18-at-10.06.15-AM-1024x229.png 1024w, https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-18-at-10.06.15-AM-628x141.png 628w\" sizes=\"(max-width: 1608px) 100vw, 1608px\" \/><\/p>\n<ul>\n<li>UI<\/li>\n<\/ul>\n<ol>\n<li>Open Repository.<\/li>\n<li>Click on each pipeline.<br \/>\n<img src=\"https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-1.27.53-PM.png\" alt=\"\" width=\"800\" height=\"762\" class=\"alignnone size-full wp-image-8179\" srcset=\"https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-1.27.53-PM.png 800w, https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-1.27.53-PM-300x286.png 300w, https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-1.27.53-PM-768x732.png 768w, https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-1.27.53-PM-344x328.png 344w\" sizes=\"(max-width: 800px) 100vw, 800px\" \/><\/li>\n<li>Expand General Settings.<br \/>\n<img src=\"https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-1.28.02-PM.png\" alt=\"\" width=\"1808\" height=\"884\" class=\"alignnone size-full wp-image-8180\" srcset=\"https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-1.28.02-PM.png 1808w, https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-1.28.02-PM-300x147.png 300w, https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-1.28.02-PM-768x376.png 768w, https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-1.28.02-PM-1024x501.png 1024w, https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-1.28.02-PM-628x307.png 628w\" sizes=\"(max-width: 1808px) 100vw, 1808px\" \/><\/li>\n<li>Temporary toggle on Webhook.<\/li>\n<li>Capture ID from the curl command shown.<br \/>\n<img src=\"https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-1.28.28-PM.png\" alt=\"\" width=\"1854\" height=\"968\" class=\"alignnone size-full wp-image-8181\" srcset=\"https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-1.28.28-PM.png 1854w, https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-1.28.28-PM-300x157.png 300w, https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-1.28.28-PM-768x401.png 768w, https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-1.28.28-PM-1024x535.png 1024w, https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-1.28.28-PM-628x328.png 628w\" sizes=\"(max-width: 1854px) 100vw, 1854px\" \/><\/li>\n<\/ol>\n<p>Record your Pipeline IDs<\/p>\n<ol>\n<li>Open your <code>example-voting-app<\/code> Codefresh pipeline.<\/li>\n<li>Add the following environment variable.<br \/>\n<code>PARALLEL_PIPELINES_IDS<\/code> with space delimited Codefresh Pipeline IDs.<br \/>\n<img src=\"https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-1.35.24-PM.png\" alt=\"\" width=\"1006\" height=\"1060\" class=\"alignnone size-full wp-image-8182\" srcset=\"https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-1.35.24-PM.png 1006w, https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-1.35.24-PM-285x300.png 285w, https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-1.35.24-PM-768x809.png 768w, https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-1.35.24-PM-972x1024.png 972w, https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-16-at-1.35.24-PM-311x328.png 311w\" sizes=\"(max-width: 1006px) 100vw, 1006px\" \/><\/li>\n<li>Click ADD VARIABLE link below variable listing.<\/li>\n<li>Click SAVE button at bottom of page.<\/li>\n<\/ol>\n<p>Now you can run your example-voting-app pipeline to produce a Helm Release.<\/p>\n<p>When the build is finished you will see a new Helm Release for <a href=\"https:\/\/g.codefresh.io\/helm\/releases\/releases\/?filter=search:example-voting-app\" rel=\"noopener\" target=\"_blank\">example-voting-app<\/a><\/p>\n<p><img src=\"https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-18-at-10.11.17-AM.png\" alt=\"\" width=\"3342\" height=\"804\" class=\"alignnone size-full wp-image-8184\" srcset=\"https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-18-at-10.11.17-AM.png 3342w, https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-18-at-10.11.17-AM-300x72.png 300w, https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-18-at-10.11.17-AM-768x185.png 768w, https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-18-at-10.11.17-AM-1024x246.png 1024w, https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/Screen-Shot-2018-04-18-at-10.11.17-AM-628x151.png 628w\" sizes=\"(max-width: 3342px) 100vw, 3342px\" \/><\/p>\n<p>You can add a Helm Release badge like below to your VCS repository&#8217;s README.md<br \/>\n<a href=\"https:\/\/g.codefresh.io\/helm\/releases\/perfect-pipeline@FirstKubernetes\/default\/example-voting-app\/services\"><img src=\"https:\/\/g.codefresh.io\/api\/badges\/release?type=cf-1&amp;key=eyJhbGciOiJIUzI1NiJ9.NWE4NGNiNzQ1ODhjZjQwMDAxNDA0YzU2.ThdF7iizUJnusHWxZpbwLApHZDvr5uD_eZvem_fB3ho&amp;selector=perfect-pipeline@FirstKubernetes&amp;name=example-voting-app&amp;tillerNamespace=kube-system\" alt=\"Codefresh Helm Release Status\" \/><\/a><\/p>\n<p>Hopefully this has given you a somewhat overall picture of setting up Codefresh to run a Kubernetes deployment utilizing Helm.<\/p>\n<p>Now you can play with the release or do something similar with your own application.<\/p>\n<p><em>*Perfect Pipeline<\/em><br \/>\nA collection of pipelines for a micro-services repository that will contain some industry best practices.<br \/>\nFor example:<br \/>\n* Parallel Builds of micro-services contained with the mono-repo that will build the Docker image, run unit tests, scan Docker image for vulnerabilities.<br \/>\n* Deploy the micro-service using Helm and a popular deployment strategy like Blue\/Green.<br \/>\n* Run Integration testing using an ephemeral Kubernetes deploy.<br \/>\n* Run Performance testing using an ephemeral Kubernetes deploy.<br \/>\n* Annotate the Docker image metadata with important information about the build.<\/p>\n<p>In my next post, we will deploy Chart Museum to our Kubernetes cluster using community Helm chart and build\/upload our Example Voting App chart to Chart Museum for others to use.<\/p>\n<p>After that, we will be deploying Clair using Helm chart and scanning our Docker images as part of our Docker micro-services <em>(3)**<\/em> pipelines.<\/p>\n<p><em>**(3)<\/em> Used to identify the 3 micro-services (result, vote and worker) contained in the example-voting-app mono-repo<\/p>\n<p>Hope, you find this tutorial useful. I look forward to your comments and any questions you have. <span style=\"font-weight: 400;\">To try this out, <\/span><strong><a href=\"https:\/\/codefresh.io\/codefresh-signup\/?utm_source=Blog&amp;utm_medium=Post&amp;utm_campaign=DepDockB\">create a free Codefresh account<\/a><\/strong><span style=\"font-weight: 400;\"> and start building, testing and deploying Docker images faster than ever.<\/span><\/p>\n<input class=\"fooboxshare_post_id\" type=\"hidden\" value=\"8155\"\/>","protected":false},"excerpt":{"rendered":"<p>We&#8217;ve had many customers ask us for micro-service applications that they can deploy with HELM to Kubernetes, so we&#8217;ve created a demo app that you can access yourself. This walk How-To is meant to walk you through configuring Codefresh pipelines to build and deploy Docker&#8217;s Example Voting App as a Helm Release to your Kubernetes &hellip; <a href=\"https:\/\/codefresh.io\/howtos\/deploying-docker-example-voting-app-helm\/\">Read more<\/a><\/p>\n","protected":false},"author":57,"featured_media":0,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":[],"categories":[2367,8,1657,6],"tags":[2400],"yoast_head":"<!-- This site is optimized with the Yoast SEO Premium plugin v17.9 (Yoast SEO v18.4.1) - https:\/\/yoast.com\/wordpress\/plugins\/seo\/ -->\n<title>Deploying Docker&#039;s Example Voting App with Helm<\/title>\n<meta name=\"description\" content=\"A walk through on configuring a Codefresh pipeline to do a Helm Release of Docker&#039;s Voting App using local\/community Helm charts to your Kubernetes cluster.\" \/>\n<meta name=\"robots\" content=\"index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1\" \/>\n<link rel=\"canonical\" href=\"https:\/\/codefresh.io\/howtos\/deploying-docker-example-voting-app-helm\/\" \/>\n<meta property=\"og:locale\" content=\"en_US\" \/>\n<meta property=\"og:type\" content=\"article\" \/>\n<meta property=\"og:title\" content=\"Deploying Docker&#039;s Example Voting App with Helm\" \/>\n<meta property=\"og:description\" content=\"A walk through on configuring a Codefresh pipeline to do a Helm Release of Docker&#039;s Voting App using local\/community Helm charts to your Kubernetes cluster.\" \/>\n<meta property=\"og:url\" content=\"https:\/\/codefresh.io\/howtos\/deploying-docker-example-voting-app-helm\/\" \/>\n<meta property=\"og:site_name\" content=\"Codefresh\" \/>\n<meta property=\"article:publisher\" content=\"https:\/\/www.facebook.com\/codefresh.io\" \/>\n<meta property=\"article:published_time\" content=\"2018-04-18T18:22:33+00:00\" \/>\n<meta property=\"article:modified_time\" content=\"2018-08-23T17:19:51+00:00\" \/>\n<meta property=\"og:image\" content=\"https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/example-voting-app-architecture.png\" \/>\n<meta name=\"twitter:card\" content=\"summary_large_image\" \/>\n<meta name=\"twitter:creator\" content=\"@codefresh\" \/>\n<meta name=\"twitter:site\" content=\"@codefresh\" \/>\n<meta name=\"twitter:label1\" content=\"Written by\" \/>\n\t<meta name=\"twitter:data1\" content=\"Dustin Van Buskirk\" \/>\n\t<meta name=\"twitter:label2\" content=\"Est. reading time\" \/>\n\t<meta name=\"twitter:data2\" content=\"7 minutes\" \/>\n<script type=\"application\/ld+json\" class=\"yoast-schema-graph\">{\"@context\":\"https:\/\/schema.org\",\"@graph\":[{\"@type\":\"Organization\",\"@id\":\"https:\/\/codefresh.io\/#organization\",\"name\":\"Codefresh\",\"url\":\"https:\/\/codefresh.io\/\",\"sameAs\":[\"https:\/\/www.facebook.com\/codefresh.io\",\"https:\/\/www.linkedin.com\/company\/codefresh\",\"https:\/\/www.youtube.com\/channel\/UC9r94SY6BqN05kXPIHsDXPg\",\"https:\/\/twitter.com\/codefresh\"],\"logo\":{\"@type\":\"ImageObject\",\"@id\":\"https:\/\/codefresh.io\/#logo\",\"inLanguage\":\"en-US\",\"url\":\"https:\/\/codefresh.io\/wp-content\/uploads\/2022\/02\/Codefresh_Logo_Vertical_LightBkgd.png\",\"contentUrl\":\"https:\/\/codefresh.io\/wp-content\/uploads\/2022\/02\/Codefresh_Logo_Vertical_LightBkgd.png\",\"width\":800,\"height\":800,\"caption\":\"Codefresh\"},\"image\":{\"@id\":\"https:\/\/codefresh.io\/#logo\"}},{\"@type\":\"WebSite\",\"@id\":\"https:\/\/codefresh.io\/#website\",\"url\":\"https:\/\/codefresh.io\/\",\"name\":\"Codefresh\",\"description\":\"\",\"publisher\":{\"@id\":\"https:\/\/codefresh.io\/#organization\"},\"potentialAction\":[{\"@type\":\"SearchAction\",\"target\":{\"@type\":\"EntryPoint\",\"urlTemplate\":\"https:\/\/codefresh.io\/?s={search_term_string}\"},\"query-input\":\"required name=search_term_string\"}],\"inLanguage\":\"en-US\"},{\"@type\":\"ImageObject\",\"@id\":\"https:\/\/codefresh.io\/howtos\/deploying-docker-example-voting-app-helm\/#primaryimage\",\"inLanguage\":\"en-US\",\"url\":\"https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/example-voting-app-architecture.png\",\"contentUrl\":\"https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/example-voting-app-architecture.png\",\"width\":1024,\"height\":768},{\"@type\":\"WebPage\",\"@id\":\"https:\/\/codefresh.io\/howtos\/deploying-docker-example-voting-app-helm\/#webpage\",\"url\":\"https:\/\/codefresh.io\/howtos\/deploying-docker-example-voting-app-helm\/\",\"name\":\"Deploying Docker's Example Voting App with Helm\",\"isPartOf\":{\"@id\":\"https:\/\/codefresh.io\/#website\"},\"primaryImageOfPage\":{\"@id\":\"https:\/\/codefresh.io\/howtos\/deploying-docker-example-voting-app-helm\/#primaryimage\"},\"datePublished\":\"2018-04-18T18:22:33+00:00\",\"dateModified\":\"2018-08-23T17:19:51+00:00\",\"description\":\"A walk through on configuring a Codefresh pipeline to do a Helm Release of Docker's Voting App using local\/community Helm charts to your Kubernetes cluster.\",\"breadcrumb\":{\"@id\":\"https:\/\/codefresh.io\/howtos\/deploying-docker-example-voting-app-helm\/#breadcrumb\"},\"inLanguage\":\"en-US\",\"potentialAction\":[{\"@type\":\"ReadAction\",\"target\":[\"https:\/\/codefresh.io\/howtos\/deploying-docker-example-voting-app-helm\/\"]}]},{\"@type\":\"BreadcrumbList\",\"@id\":\"https:\/\/codefresh.io\/howtos\/deploying-docker-example-voting-app-helm\/#breadcrumb\",\"itemListElement\":[{\"@type\":\"ListItem\",\"position\":1,\"name\":\"Home\",\"item\":\"https:\/\/codefresh.io\/\"},{\"@type\":\"ListItem\",\"position\":2,\"name\":\"Deploying Docker&#8217;s Example Voting App with Helm\"}]},{\"@type\":\"Article\",\"@id\":\"https:\/\/codefresh.io\/howtos\/deploying-docker-example-voting-app-helm\/#article\",\"isPartOf\":{\"@id\":\"https:\/\/codefresh.io\/howtos\/deploying-docker-example-voting-app-helm\/#webpage\"},\"author\":{\"@id\":\"https:\/\/codefresh.io\/#\/schema\/person\/486e48ad011e672d3be105c43179f662\"},\"headline\":\"Deploying Docker&#8217;s Example Voting App with Helm\",\"datePublished\":\"2018-04-18T18:22:33+00:00\",\"dateModified\":\"2018-08-23T17:19:51+00:00\",\"mainEntityOfPage\":{\"@id\":\"https:\/\/codefresh.io\/howtos\/deploying-docker-example-voting-app-helm\/#webpage\"},\"wordCount\":1339,\"commentCount\":2,\"publisher\":{\"@id\":\"https:\/\/codefresh.io\/#organization\"},\"image\":{\"@id\":\"https:\/\/codefresh.io\/howtos\/deploying-docker-example-voting-app-helm\/#primaryimage\"},\"thumbnailUrl\":\"https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/example-voting-app-architecture.png\",\"keywords\":[\"Perfect Pipeline\"],\"articleSection\":[\"Helm Tutorials\",\"Docker Tutorials\",\"Kubernetes Tutorials\",\"How Tos\"],\"inLanguage\":\"en-US\",\"potentialAction\":[{\"@type\":\"CommentAction\",\"name\":\"Comment\",\"target\":[\"https:\/\/codefresh.io\/howtos\/deploying-docker-example-voting-app-helm\/#respond\"]}]},{\"@type\":\"Person\",\"@id\":\"https:\/\/codefresh.io\/#\/schema\/person\/486e48ad011e672d3be105c43179f662\",\"name\":\"Dustin Van Buskirk\",\"image\":{\"@type\":\"ImageObject\",\"@id\":\"https:\/\/codefresh.io\/#personlogo\",\"inLanguage\":\"en-US\",\"url\":\"https:\/\/secure.gravatar.com\/avatar\/99e2803d9a75d50d8de1a8b560a6534c?s=96&d=blank&r=g\",\"contentUrl\":\"https:\/\/secure.gravatar.com\/avatar\/99e2803d9a75d50d8de1a8b560a6534c?s=96&d=blank&r=g\",\"caption\":\"Dustin Van Buskirk\"},\"description\":\"A Senior Solution Architect at Codefresh\",\"sameAs\":[\"https:\/\/codefresh.io\/\"],\"url\":\"https:\/\/codefresh.io\/author\/dustinvbcodefresh-io\/\"}]}<\/script>\n<!-- \/ Yoast SEO Premium plugin. -->","yoast_head_json":{"title":"Deploying Docker's Example Voting App with Helm","description":"A walk through on configuring a Codefresh pipeline to do a Helm Release of Docker's Voting App using local\/community Helm charts to your Kubernetes cluster.","robots":{"index":"index","follow":"follow","max-snippet":"max-snippet:-1","max-image-preview":"max-image-preview:large","max-video-preview":"max-video-preview:-1"},"canonical":"https:\/\/codefresh.io\/howtos\/deploying-docker-example-voting-app-helm\/","og_locale":"en_US","og_type":"article","og_title":"Deploying Docker's Example Voting App with Helm","og_description":"A walk through on configuring a Codefresh pipeline to do a Helm Release of Docker's Voting App using local\/community Helm charts to your Kubernetes cluster.","og_url":"https:\/\/codefresh.io\/howtos\/deploying-docker-example-voting-app-helm\/","og_site_name":"Codefresh","article_publisher":"https:\/\/www.facebook.com\/codefresh.io","article_published_time":"2018-04-18T18:22:33+00:00","article_modified_time":"2018-08-23T17:19:51+00:00","og_image":[{"url":"https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/example-voting-app-architecture.png"}],"twitter_card":"summary_large_image","twitter_creator":"@codefresh","twitter_site":"@codefresh","twitter_misc":{"Written by":"Dustin Van Buskirk","Est. reading time":"7 minutes"},"schema":{"@context":"https:\/\/schema.org","@graph":[{"@type":"Organization","@id":"https:\/\/codefresh.io\/#organization","name":"Codefresh","url":"https:\/\/codefresh.io\/","sameAs":["https:\/\/www.facebook.com\/codefresh.io","https:\/\/www.linkedin.com\/company\/codefresh","https:\/\/www.youtube.com\/channel\/UC9r94SY6BqN05kXPIHsDXPg","https:\/\/twitter.com\/codefresh"],"logo":{"@type":"ImageObject","@id":"https:\/\/codefresh.io\/#logo","inLanguage":"en-US","url":"https:\/\/codefresh.io\/wp-content\/uploads\/2022\/02\/Codefresh_Logo_Vertical_LightBkgd.png","contentUrl":"https:\/\/codefresh.io\/wp-content\/uploads\/2022\/02\/Codefresh_Logo_Vertical_LightBkgd.png","width":800,"height":800,"caption":"Codefresh"},"image":{"@id":"https:\/\/codefresh.io\/#logo"}},{"@type":"WebSite","@id":"https:\/\/codefresh.io\/#website","url":"https:\/\/codefresh.io\/","name":"Codefresh","description":"","publisher":{"@id":"https:\/\/codefresh.io\/#organization"},"potentialAction":[{"@type":"SearchAction","target":{"@type":"EntryPoint","urlTemplate":"https:\/\/codefresh.io\/?s={search_term_string}"},"query-input":"required name=search_term_string"}],"inLanguage":"en-US"},{"@type":"ImageObject","@id":"https:\/\/codefresh.io\/howtos\/deploying-docker-example-voting-app-helm\/#primaryimage","inLanguage":"en-US","url":"https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/example-voting-app-architecture.png","contentUrl":"https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/example-voting-app-architecture.png","width":1024,"height":768},{"@type":"WebPage","@id":"https:\/\/codefresh.io\/howtos\/deploying-docker-example-voting-app-helm\/#webpage","url":"https:\/\/codefresh.io\/howtos\/deploying-docker-example-voting-app-helm\/","name":"Deploying Docker's Example Voting App with Helm","isPartOf":{"@id":"https:\/\/codefresh.io\/#website"},"primaryImageOfPage":{"@id":"https:\/\/codefresh.io\/howtos\/deploying-docker-example-voting-app-helm\/#primaryimage"},"datePublished":"2018-04-18T18:22:33+00:00","dateModified":"2018-08-23T17:19:51+00:00","description":"A walk through on configuring a Codefresh pipeline to do a Helm Release of Docker's Voting App using local\/community Helm charts to your Kubernetes cluster.","breadcrumb":{"@id":"https:\/\/codefresh.io\/howtos\/deploying-docker-example-voting-app-helm\/#breadcrumb"},"inLanguage":"en-US","potentialAction":[{"@type":"ReadAction","target":["https:\/\/codefresh.io\/howtos\/deploying-docker-example-voting-app-helm\/"]}]},{"@type":"BreadcrumbList","@id":"https:\/\/codefresh.io\/howtos\/deploying-docker-example-voting-app-helm\/#breadcrumb","itemListElement":[{"@type":"ListItem","position":1,"name":"Home","item":"https:\/\/codefresh.io\/"},{"@type":"ListItem","position":2,"name":"Deploying Docker&#8217;s Example Voting App with Helm"}]},{"@type":"Article","@id":"https:\/\/codefresh.io\/howtos\/deploying-docker-example-voting-app-helm\/#article","isPartOf":{"@id":"https:\/\/codefresh.io\/howtos\/deploying-docker-example-voting-app-helm\/#webpage"},"author":{"@id":"https:\/\/codefresh.io\/#\/schema\/person\/486e48ad011e672d3be105c43179f662"},"headline":"Deploying Docker&#8217;s Example Voting App with Helm","datePublished":"2018-04-18T18:22:33+00:00","dateModified":"2018-08-23T17:19:51+00:00","mainEntityOfPage":{"@id":"https:\/\/codefresh.io\/howtos\/deploying-docker-example-voting-app-helm\/#webpage"},"wordCount":1339,"commentCount":2,"publisher":{"@id":"https:\/\/codefresh.io\/#organization"},"image":{"@id":"https:\/\/codefresh.io\/howtos\/deploying-docker-example-voting-app-helm\/#primaryimage"},"thumbnailUrl":"https:\/\/codefresh.io\/wp-content\/uploads\/2018\/04\/example-voting-app-architecture.png","keywords":["Perfect Pipeline"],"articleSection":["Helm Tutorials","Docker Tutorials","Kubernetes Tutorials","How Tos"],"inLanguage":"en-US","potentialAction":[{"@type":"CommentAction","name":"Comment","target":["https:\/\/codefresh.io\/howtos\/deploying-docker-example-voting-app-helm\/#respond"]}]},{"@type":"Person","@id":"https:\/\/codefresh.io\/#\/schema\/person\/486e48ad011e672d3be105c43179f662","name":"Dustin Van Buskirk","image":{"@type":"ImageObject","@id":"https:\/\/codefresh.io\/#personlogo","inLanguage":"en-US","url":"https:\/\/secure.gravatar.com\/avatar\/99e2803d9a75d50d8de1a8b560a6534c?s=96&d=blank&r=g","contentUrl":"https:\/\/secure.gravatar.com\/avatar\/99e2803d9a75d50d8de1a8b560a6534c?s=96&d=blank&r=g","caption":"Dustin Van Buskirk"},"description":"A Senior Solution Architect at Codefresh","sameAs":["https:\/\/codefresh.io\/"],"url":"https:\/\/codefresh.io\/author\/dustinvbcodefresh-io\/"}]}},"acf":[],"_links":{"self":[{"href":"https:\/\/codefresh.io\/wp-json\/wp\/v2\/posts\/8155"}],"collection":[{"href":"https:\/\/codefresh.io\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/codefresh.io\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/codefresh.io\/wp-json\/wp\/v2\/users\/57"}],"replies":[{"embeddable":true,"href":"https:\/\/codefresh.io\/wp-json\/wp\/v2\/comments?post=8155"}],"version-history":[{"count":0,"href":"https:\/\/codefresh.io\/wp-json\/wp\/v2\/posts\/8155\/revisions"}],"wp:attachment":[{"href":"https:\/\/codefresh.io\/wp-json\/wp\/v2\/media?parent=8155"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/codefresh.io\/wp-json\/wp\/v2\/categories?post=8155"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/codefresh.io\/wp-json\/wp\/v2\/tags?post=8155"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}